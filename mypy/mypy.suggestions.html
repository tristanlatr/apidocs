<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>mypy.suggestions</title>
    <meta name="generator" content="pydoctor 21.2.2"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          <a href="https://github.com/python/mypy" class="projecthome">mypy-0.930</a> <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <form action="search-results.html" id="search-box-container">
          <div class="input-group">
            <input id="search-box" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" />
            <span class="input-group-btn">
              <button class="btn btn-default" type="submit" title="Search"><img src="fonts/search.svg" alt="Search!" /></button>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help!" /></a>
            </span>
          </div>
        </form>

        <div class="rst-admonition hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”:
                  <br /> <code>'+foo bar -baz'</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”:
                  <br /> <code>'foo*'</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all documents 
                  that contains "foo" in their full dotted name and with “bar” in any field:
                  <br /> <code>'+fullName:*foo* +bar'</code>

                  <p>
                    Possible fields: 'name', 'docstring', 'fullName'.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”:
                  <br /> <code>'foo~1'</code>
                </li>
            </ul>

          </p>
        </div>

      </div>


    </div>
  </div>

  <script>
 
    function toggleSearchHelpText() {
        document.body.classList.toggle("search-help-hidden");
    }
    // Init search and help text
    document.getElementById('search-box-container').style.display = 'block';
    document.getElementById('search-help-box').style.display = 'block';
    document.body.classList.add("search-help-hidden");

  </script>

</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="mypy.html">mypy</a></code><wbr></wbr>.<code><a href="mypy.suggestions.html">suggestions</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py" class="sourceLink">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Mechanisms for inferring function types based on callsites.</p>
<p>Currently works by collecting all argument types at callsites,
synthesizing a list of possible function types from that, trying them
all, and picking the one with the fewest errors that we think is the
"best".</p>
<p>Can return JSON that pyannotate can use to apply the annotations to code.</p>
<dl class="rst-docutils">
<dt>There are a bunch of TODOs here:</dt>
<dd><ul class="rst-first rst-last rst-simple">
<li>Maybe want a way to surface the choices not selected??</li>
<li>We can generate an exponential number of type suggestions, and probably want
a way to not always need to check them all.</li>
<li>Our heuristics for what types to try are primitive and not yet
supported by real practice.</li>
<li>More!</li>
</ul>
</dd>
<dt>Other things:</dt>
<dd><ul class="rst-first rst-last rst-simple">
<li>This is super brute force. Could we integrate with the typechecker
more to understand more about what is going on?</li>
<li>Like something with tracking constraints/unification variables?</li>
<li>No understanding of type variables at <em>all</em></li>
</ul>
</dd>
</dl>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id611">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="mypy.suggestions.ArgUseFinder.html">ArgUseFinder</a></code></td>
    <td><span>Visitor for finding all the types of arguments that each arg is passed to.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="mypy.suggestions.MakeSuggestionAny.html">MakeSuggestionAny</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="mypy.suggestions.ReturnFinder.html">ReturnFinder</a></code></td>
    <td><span>Visitor for finding all types returned from a function.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="mypy.suggestions.StrToText.html">StrToText</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="mypy.suggestions.SuggestionEngine.html">SuggestionEngine</a></code></td>
    <td><span>Engine for finding call sites and suggesting signatures.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="mypy.suggestions.SuggestionFailure.html">SuggestionFailure</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="mypy.suggestions.SuggestionPlugin.html">SuggestionPlugin</a></code></td>
    <td><span>Plugin that records all calls to a given target.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="mypy.suggestions.TypeFormatter.html">TypeFormatter</a></code></td>
    <td><span>Visitor used to format types</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#any_score_callable">any_score_callable</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#any_score_type">any_score_type</a></code></td>
    <td><span>Generate a very made up number representing the Anyness of a type.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#count_errors">count_errors</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#dedup">dedup</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#generate_type_combinations">generate_type_combinations</a></code></td>
    <td><span>Generate possible combinations of a list of types.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#get_arg_uses">get_arg_uses</a></code></td>
    <td><span>Find all the types of arguments that each arg is passed to.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#get_return_types">get_return_types</a></code></td>
    <td><span>Find all the types returned by return statements in func.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#is_explicit_any">is_explicit_any</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#is_implicit_any">is_implicit_any</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#is_tricky_callable">is_tricky_callable</a></code></td>
    <td><span>Is t a callable that we need to put a ... in for syntax reasons?</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#make_suggestion_anys">make_suggestion_anys</a></code></td>
    <td><span>Make all anys in the type as coming from the suggestion engine.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#refine_callable">refine_callable</a></code></td>
    <td><span>Refine a callable based on another.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#refine_type">refine_type</a></code></td>
    <td><span>Refine <code>ti</code> by replacing Anys in it with information taken from <code>si</code></span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#refine_union">refine_union</a></code></td>
    <td><span>Refine a union type based on another type.</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#Callsite">Callsite</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#PyAnnotateSignature">PyAnnotateSignature</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#T">T</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#TType">TType</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="mypy.suggestions.any_score_callable">
    
  </a>
  <a name="any_score_callable">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">any_score_callable</span>(t, is_method, ignore_return):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L751">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">t:</span><code><a href="mypy.types.CallableType.html">CallableType</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">is_method:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ignore_return:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>float</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="mypy.suggestions.any_score_type">
    
  </a>
  <a name="any_score_type">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">any_score_type</span>(ut, arg_pos):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L728">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Generate a very made up number representing the Anyness of a type.</p>
<p>Higher is better, 1.0 is max</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ut:</span><code><a href="mypy.types.Type.html">Type</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">arg_pos:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>float</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="mypy.suggestions.count_errors">
    
  </a>
  <a name="count_errors">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">count_errors</span>(msgs):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L906">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">msgs:</span><code>List[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>int</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="mypy.suggestions.dedup">
    
  </a>
  <a name="dedup">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">dedup</span>(old):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L1019">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">old:</span><code>List[<wbr></wbr><a href="#T">T</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>List[<wbr></wbr><a href="#T">T</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="mypy.suggestions.generate_type_combinations">
    
  </a>
  <a name="generate_type_combinations">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">generate_type_combinations</span>(types):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L892">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Generate possible combinations of a list of types.</p>
<p>mypy essentially supports two different ways to do this: joining the types
and unioning the types. We try both.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">types:</span><code>List[<wbr></wbr><a href="mypy.types.Type.html">Type</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>List[<wbr></wbr><a href="mypy.types.Type.html">Type</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="mypy.suggestions.get_arg_uses">
    
  </a>
  <a name="get_arg_uses">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_arg_uses</span>(typemap, func):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L168">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Find all the types of arguments that each arg is passed to.</p>
<dl class="rst-docutils">
<dt>For example, given</dt>
<dd><p class="rst-first">def foo(x: int) -&gt; None: ...
def bar(x: str) -&gt; None: ...
def test(x, y):</p>
<blockquote class="rst-last">
foo(x)
bar(y)</blockquote>
</dd>
</dl>
<p>this will return [[int], [str]].</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">typemap:</span><code>Dict[<wbr></wbr><a href="mypy.nodes.Expression.html">Expression</a>, <wbr></wbr><a href="mypy.types.Type.html">Type</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">func:</span><code><a href="mypy.nodes.FuncDef.html">FuncDef</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>List[<wbr></wbr>List[<wbr></wbr><a href="mypy.types.Type.html">Type</a>]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="mypy.suggestions.get_return_types">
    
  </a>
  <a name="get_return_types">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_return_types</span>(typemap, func):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L133">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Find all the types returned by return statements in func.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">typemap:</span><code>Dict[<wbr></wbr><a href="mypy.nodes.Expression.html">Expression</a>, <wbr></wbr><a href="mypy.types.Type.html">Type</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">func:</span><code><a href="mypy.nodes.FuncDef.html">FuncDef</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>List[<wbr></wbr><a href="mypy.types.Type.html">Type</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="mypy.suggestions.is_explicit_any">
    
  </a>
  <a name="is_explicit_any">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">is_explicit_any</span>(typ):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L189">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">typ:</span><code><a href="mypy.types.AnyType.html">AnyType</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="mypy.suggestions.is_implicit_any">
    
  </a>
  <a name="is_implicit_any">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">is_implicit_any</span>(typ):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L199">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">typ:</span><code><a href="mypy.types.Type.html">Type</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="mypy.suggestions.is_tricky_callable">
    
  </a>
  <a name="is_tricky_callable">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">is_tricky_callable</span>(t):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L764">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Is t a callable that we need to put a ... in for syntax reasons?<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">t:</span><code><a href="mypy.types.CallableType.html">CallableType</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="mypy.suggestions.make_suggestion_anys">
    
  </a>
  <a name="make_suggestion_anys">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">make_suggestion_anys</span>(t):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L872">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Make all anys in the type as coming from the suggestion engine.</p>
<p>This keeps those Anys from influencing constraint generation,
which allows us to do better when refining types.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">t:</span><code><a href="#TType">TType</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="#TType">TType</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="mypy.suggestions.refine_callable">
    
  </a>
  <a name="refine_callable">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">refine_callable</span>(t, s):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L996">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Refine a callable based on another.</p>
<p>See comments for refine_type.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">t:</span><code><a href="mypy.types.CallableType.html">CallableType</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">s:</span><code><a href="mypy.types.CallableType.html">CallableType</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="mypy.types.CallableType.html">CallableType</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="mypy.suggestions.refine_type">
    
  </a>
  <a name="refine_type">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">refine_type</span>(ti, si):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L910">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Refine <code>ti</code> by replacing Anys in it with information taken from <code>si</code></p>
<p>This basically works by, when the types have the same structure,
traversing both of them in parallel and replacing Any on the left
with whatever the type on the right is. If the types don't have the
same structure (or aren't supported), the left type is chosen.</p>
<dl class="rst-docutils">
<dt>For example:</dt>
<dd><p class="rst-first">refine(Any, T) = T,  for all T
refine(float, int) = float
refine(List[Any], List[int]) = List[int]
refine(Dict[int, Any], Dict[Any, int]) = Dict[int, int]
refine(Tuple[int, Any], Tuple[Any, int]) = Tuple[int, int]</p>
<p>refine(Callable[[Any], Any], Callable[[int], int]) = Callable[[int], int]
refine(Callable[..., int], Callable[[int, float], Any]) = Callable[[int, float], int]</p>
<p class="rst-last">refine(Optional[Any], int) = Optional[int]
refine(Optional[Any], Optional[int]) = Optional[int]
refine(Optional[Any], Union[int, str]) = Optional[Union[int, str]]
refine(Optional[List[Any]], List[int]) = List[int]</p>
</dd>
</dl>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ti:</span><code><a href="mypy.types.Type.html">Type</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">si:</span><code><a href="mypy.types.Type.html">Type</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="mypy.types.Type.html">Type</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="mypy.suggestions.refine_union">
    
  </a>
  <a name="refine_union">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">refine_union</span>(t, s):
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L963">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Refine a union type based on another type.</p>
<p>This is done by refining every component of the union against the
right hand side type (or every component of its union if it is
one). If an element of the union is successfully refined, we drop it
from the union in favor of the refined versions.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">t:</span><code><a href="mypy.types.UnionType.html">UnionType</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">s:</span><code><a href="mypy.types.ProperType.html">ProperType</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="mypy.types.Type.html">Type</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="mypy.suggestions.Callsite">
    
  </a>
  <a name="Callsite">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">Callsite</span> =
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L69">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="mypy.suggestions.PyAnnotateSignature">
    
  </a>
  <a name="PyAnnotateSignature">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">PyAnnotateSignature</span> =
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L65">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="mypy.suggestions.T">
    
  </a>
  <a name="T">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">T</span> =
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L1016">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="mypy.suggestions.TType">
    
  </a>
  <a name="TType">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">TType</span> =
    <a class="sourceLink" href="https://github.com/python/mypy/tree/v0.930/mypy/suggestions.py#L869">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="https://github.com/python/mypy" class="projecthome">mypy-0.930</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.2.2 at 2022-01-06 17:36:40.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>