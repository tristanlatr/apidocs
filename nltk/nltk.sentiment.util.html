<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>nltk.sentiment.util</title>
    <meta name="generator" content="pydoctor 22.2.2.dev0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          <a href="http://www.nltk.org/" class="projecthome">nltk-3.6.2</a> <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        <div>
          <span class="label label-default" id="search-docstrings-button">
            <a title="Search in docstrings" onclick="toggleSearchInDocstrings()">search in docstrings</a></span>
        </div>

        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>
        
        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>
  </div>

  <script src="ajax.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="index.html" class="internal-link">nltk</a></code><wbr></wbr>.<code><a href="nltk.sentiment.html" class="internal-link" title="nltk.sentiment">sentiment</a></code><wbr></wbr>.<code><a href="nltk.sentiment.util.html" class="internal-link" title="nltk.sentiment.util">util</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py" class="sourceLink">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div>Utility methods for Sentiment Analysis.</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1459">
  
  
  <tr class="function">
    
    <td>Function</td>
    <td><code><a href="#demo_liu_hu_lexicon" class="internal-link" title="nltk.sentiment.util.demo_liu_hu_lexicon">demo​_liu​_hu​_lexicon</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#demo_movie_reviews" class="internal-link" title="nltk.sentiment.util.demo_movie_reviews">demo​_movie​_reviews</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#demo_sent_subjectivity" class="internal-link" title="nltk.sentiment.util.demo_sent_subjectivity">demo​_sent​_subjectivity</a></code></td>
    <td>Classify a single sentence as subjective or objective using a stored SentimentAnalyzer.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#demo_subjectivity" class="internal-link" title="nltk.sentiment.util.demo_subjectivity">demo​_subjectivity</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#demo_tweets" class="internal-link" title="nltk.sentiment.util.demo_tweets">demo​_tweets</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#demo_vader_instance" class="internal-link" title="nltk.sentiment.util.demo_vader_instance">demo​_vader​_instance</a></code></td>
    <td>Output polarity scores for a text using Vader approach.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#demo_vader_tweets" class="internal-link" title="nltk.sentiment.util.demo_vader_tweets">demo​_vader​_tweets</a></code></td>
    <td>Classify 10000 positive and negative tweets using Vader approach.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#extract_bigram_feats" class="internal-link" title="nltk.sentiment.util.extract_bigram_feats">extract​_bigram​_feats</a></code></td>
    <td>Populate a dictionary of bigram features, reflecting the presence/absence in the document of each of the tokens in <code><a href="nltk.util.html#bigrams" class="internal-link" title="nltk.util.bigrams">bigrams</a></code>. This extractor function only considers contiguous bigrams obtained by <code><a href="nltk.util.html#bigrams" class="internal-link" title="nltk.util.bigrams">nltk.bigrams</a></code>.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#extract_unigram_feats" class="internal-link" title="nltk.sentiment.util.extract_unigram_feats">extract​_unigram​_feats</a></code></td>
    <td>Populate a dictionary of unigram features, reflecting the presence/absence in the document of each of the tokens in <code>unigrams</code>.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#json2csv_preprocess" class="internal-link" title="nltk.sentiment.util.json2csv_preprocess">json2csv​_preprocess</a></code></td>
    <td>Convert json file to csv file, preprocessing each row to obtain a suitable dataset for tweets Semantic Analysis.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#mark_negation" class="internal-link" title="nltk.sentiment.util.mark_negation">mark​_negation</a></code></td>
    <td>Append _NEG suffix to words that appear in the scope between a negation and a punctuation mark.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#output_markdown" class="internal-link" title="nltk.sentiment.util.output_markdown">output​_markdown</a></code></td>
    <td>Write the output of an analysis to a file.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#parse_tweets_set" class="internal-link" title="nltk.sentiment.util.parse_tweets_set">parse​_tweets​_set</a></code></td>
    <td>Parse csv file containing tweets and output data a list of (text, label) tuples.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#split_train_test" class="internal-link" title="nltk.sentiment.util.split_train_test">split​_train​_test</a></code></td>
    <td>Randomly split <code>n</code> instances of the dataset into train and test sets.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#timer" class="internal-link" title="nltk.sentiment.util.timer">timer</a></code></td>
    <td>A timer decorator to measure execution performance of methods.</td>
  </tr><tr class="constant">
    
    <td>Constant</td>
    <td><code><a href="#CLAUSE_PUNCT" class="internal-link" title="nltk.sentiment.util.CLAUSE_PUNCT">CLAUSE​_PUNCT</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant">
    
    <td>Constant</td>
    <td><code><a href="#CLAUSE_PUNCT_RE" class="internal-link" title="nltk.sentiment.util.CLAUSE_PUNCT_RE">CLAUSE​_PUNCT​_RE</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant">
    
    <td>Constant</td>
    <td><code><a href="#HAPPY" class="internal-link" title="nltk.sentiment.util.HAPPY">HAPPY</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant">
    
    <td>Constant</td>
    <td><code><a href="#NEGATION" class="internal-link" title="nltk.sentiment.util.NEGATION">NEGATION</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant">
    
    <td>Constant</td>
    <td><code><a href="#NEGATION_RE" class="internal-link" title="nltk.sentiment.util.NEGATION_RE">NEGATION​_RE</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant">
    
    <td>Constant</td>
    <td><code><a href="#SAD" class="internal-link" title="nltk.sentiment.util.SAD">SAD</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_show_plot" class="internal-link" title="nltk.sentiment.util._show_plot">_show​_plot</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="nltk.sentiment.util.demo_liu_hu_lexicon">
    
  </a>
  <a name="demo_liu_hu_lexicon">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">demo_liu_hu_lexicon</span>(sentence, plot=False):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L728">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Basic example of sentiment classification using Liu and Hu opinion lexicon.
This function simply counts the number of positive, negative and neutral words
in the sentence and classifies it depending on which polarity is more represented.
Words that do not appear in the lexicon are considered as neutral.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">sentence</span></td><td class="fieldArgDesc">a sentence whose polarity has to be classified.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">plot</span></td><td class="fieldArgDesc">if True, plot a visual representation of the sentence polarity.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.demo_movie_reviews">
    
  </a>
  <a name="demo_movie_reviews">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">demo_movie_reviews</span>(trainer, n_instances=None, output=None):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L562">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Train classifier on all instances of the Movie Reviews dataset.
The corpus has been preprocessed using the default sentence tokenizer and
WordPunctTokenizer.
Features are composed of:</p>
<blockquote>
<ul class="rst-simple">
<li>most frequent unigrams</li>
</ul>
</blockquote>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">trainer</span></td><td class="fieldArgDesc"><code>train</code> method of a classifier.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">n​_instances</span></td><td class="fieldArgDesc">the number of total reviews that have to be used for
training and testing. Reviews will be equally split between positive and
negative.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">output</span></td><td class="fieldArgDesc">the output file where results have to be reported.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.demo_sent_subjectivity">
    
  </a>
  <a name="demo_sent_subjectivity">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">demo_sent_subjectivity</span>(text):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L705">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Classify a single sentence as subjective or objective using a stored
SentimentAnalyzer.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">text</span></td><td class="fieldArgDesc">a sentence whose subjectivity has to be classified.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.demo_subjectivity">
    
  </a>
  <a name="demo_subjectivity">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">demo_subjectivity</span>(trainer, save_analyzer=False, n_instances=None, output=None):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L630">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Train and test a classifier on instances of the Subjective Dataset by Pang and
Lee. The dataset is made of 5000 subjective and 5000 objective sentences.
All tokens (words and punctuation marks) are separated by a whitespace, so
we use the basic WhitespaceTokenizer to parse the data.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">trainer</span></td><td class="fieldArgDesc"><code>train</code> method of a classifier.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">save​_analyzer</span></td><td class="fieldArgDesc">if <code>True</code>, store the SentimentAnalyzer in a pickle file.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">n​_instances</span></td><td class="fieldArgDesc">the number of total sentences that have to be used for
training and testing. Sentences will be equally split between positive
and negative.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">output</span></td><td class="fieldArgDesc">the output file where results have to be reported.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.demo_tweets">
    
  </a>
  <a name="demo_tweets">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">demo_tweets</span>(trainer, n_instances=None, output=None):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L473">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Train and test Naive Bayes classifier on 10000 tweets, tokenized using
TweetTokenizer.
Features are composed of:</p>
<blockquote>
<ul class="rst-simple">
<li>1000 most frequent unigrams</li>
<li>100 top bigrams (using BigramAssocMeasures.pmi)</li>
</ul>
</blockquote>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">trainer</span></td><td class="fieldArgDesc"><code>train</code> method of a classifier.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">n​_instances</span></td><td class="fieldArgDesc">the number of total tweets that have to be used for
training and testing. Tweets will be equally split between positive and
negative.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">output</span></td><td class="fieldArgDesc">the output file where results have to be reported.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.demo_vader_instance">
    
  </a>
  <a name="demo_vader_instance">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">demo_vader_instance</span>(text):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L772">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Output polarity scores for a text using Vader approach.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">text</span></td><td class="fieldArgDesc">a text whose polarity has to be evaluated.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.demo_vader_tweets">
    
  </a>
  <a name="demo_vader_tweets">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">demo_vader_tweets</span>(n_instances=None, output=None):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L784">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Classify 10000 positive and negative tweets using Vader approach.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">n​_instances</span></td><td class="fieldArgDesc">the number of total tweets that have to be classified.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">output</span></td><td class="fieldArgDesc">the output file where results have to be reported.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.extract_bigram_feats">
    
  </a>
  <a name="extract_bigram_feats">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">extract_bigram_feats</span>(document, bigrams):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L196">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Populate a dictionary of bigram features, reflecting the presence/absence in
the document of each of the tokens in <code><a href="nltk.util.html#bigrams" class="internal-link" title="nltk.util.bigrams">bigrams</a></code>. This extractor function only
considers contiguous bigrams obtained by <code><a href="nltk.util.html#bigrams" class="internal-link" title="nltk.util.bigrams">nltk.bigrams</a></code>.</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>bigrams = [(<span class="py-string">'global'</span>, <span class="py-string">'warming'</span>), (<span class="py-string">'police'</span>, <span class="py-string">'prevented'</span>), (<span class="py-string">'love'</span>, <span class="py-string">'you'</span>)]
<span class="py-prompt">&gt;&gt;&gt; </span>document = <span class="py-string">'ice is melting due to global warming'</span>.split()
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-builtin">sorted</span>(extract_bigram_feats(document, bigrams).items())
<span class="py-output">[('contains(global - warming)', True), ('contains(love - you)', False),</span>
<span class="py-output">('contains(police - prevented)', False)]</span>
</pre><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">document</span></td><td class="fieldArgDesc">a list of words/tokens.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">bigrams</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">unigrams</span></td><td class="fieldArgDesc">a list of bigrams whose presence/absence has to be
checked in <code>document</code>.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">a dictionary of bigram features {bigram : boolean}.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.extract_unigram_feats">
    
  </a>
  <a name="extract_unigram_feats">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">extract_unigram_feats</span>(document, unigrams, handle_negation=False):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L171">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Populate a dictionary of unigram features, reflecting the presence/absence in
the document of each of the tokens in <code>unigrams</code>.</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>words = [<span class="py-string">'ice'</span>, <span class="py-string">'police'</span>, <span class="py-string">'riot'</span>]
<span class="py-prompt">&gt;&gt;&gt; </span>document = <span class="py-string">'ice is melting due to global warming'</span>.split()
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-builtin">sorted</span>(extract_unigram_feats(document, words).items())
<span class="py-output">[('contains(ice)', True), ('contains(police)', False), ('contains(riot)', False)]</span>
</pre><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">document</span></td><td class="fieldArgDesc">a list of words/tokens.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">unigrams</span></td><td class="fieldArgDesc">a list of words/tokens whose presence/absence has to be
checked in <code>document</code>.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">handle​_negation</span></td><td class="fieldArgDesc">if <code>handle_negation == True</code> apply <code><a href="#mark_negation" class="internal-link" title="nltk.sentiment.util.mark_negation">mark_negation</a></code>
method to <code>document</code> before checking for unigram presence/absence.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">a dictionary of unigram features {unigram : boolean}.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.json2csv_preprocess">
    
  </a>
  <a name="json2csv_preprocess">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">json2csv_preprocess</span>(json_file, outfile, fields, encoding=<span class="rst-variable-quote">'</span><span class="rst-variable-string">utf8</span><span class="rst-variable-quote">'</span>, errors=<span class="rst-variable-quote">'</span><span class="rst-variable-string">replace</span><span class="rst-variable-quote">'</span>, gzip_compress=False, skip_retweets=True, skip_tongue_tweets=True, skip_ambiguous_tweets=True, strip_off_emoticons=True, remove_duplicates=True, limit=None):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L338">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Convert json file to csv file, preprocessing each row to obtain a suitable
dataset for tweets Semantic Analysis.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">json​_file</span></td><td class="fieldArgDesc">the original json file containing tweets.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">outfile</span></td><td class="fieldArgDesc">the output csv filename.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">fields</span></td><td class="fieldArgDesc">a list of fields that will be extracted from the json file and
kept in the output csv file.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">encoding</span></td><td class="fieldArgDesc">the encoding of the files.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">errors</span></td><td class="fieldArgDesc">the error handling strategy for the output writer.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">gzip​_compress</span></td><td class="fieldArgDesc">if True, create a compressed GZIP file.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">skip​_retweets</span></td><td class="fieldArgDesc">if True, remove retweets.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">skip​_tongue​_tweets</span></td><td class="fieldArgDesc">if True, remove tweets containing ":P" and ":-P"
emoticons.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">skip​_ambiguous​_tweets</span></td><td class="fieldArgDesc">if True, remove tweets containing both happy
and sad emoticons.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">strip​_off​_emoticons</span></td><td class="fieldArgDesc">if True, strip off emoticons from all tweets.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">remove​_duplicates</span></td><td class="fieldArgDesc">if True, remove tweets appearing more than once.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">limit</span></td><td class="fieldArgDesc">an integer to set the number of tweets to convert. After the
limit is reached the conversion will stop. It can be useful to create
subsets of the original tweets json data.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.mark_negation">
    
  </a>
  <a name="mark_negation">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">mark_negation</span>(document, double_neg_flip=False, shallow=False):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L226">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Append _NEG suffix to words that appear in the scope between a negation
and a punctuation mark.</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>sent = <span class="py-string">"I didn't like this movie . It was bad ."</span>.split()
<span class="py-prompt">&gt;&gt;&gt; </span>mark_negation(sent)
<span class="py-output">['I', "didn't", 'like_NEG', 'this_NEG', 'movie_NEG', '.', 'It', 'was', 'bad', '.']</span>
</pre><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">document</span></td><td class="fieldArgDesc">a list of words/tokens, or a tuple (words, label).</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">double​_neg​_flip</span></td><td class="fieldArgDesc">if True, double negation is considered affirmation
(we activate/deactivate negation scope everytime we find a negation).</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">shallow</span></td><td class="fieldArgDesc">if True, the method will modify the original document in place.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">if <code>shallow == True</code> the method will modify the original document
and return it. If <code>shallow == False</code> the method will return a modified
document, leaving the original unmodified.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.output_markdown">
    
  </a>
  <a name="output_markdown">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">output_markdown</span>(filename, **kwargs):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L267">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Write the output of an analysis to a file.</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.parse_tweets_set">
    
  </a>
  <a name="parse_tweets_set">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">parse_tweets_set</span>(filename, label, word_tokenizer=None, sent_tokenizer=None, skip_header=True):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L422">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Parse csv file containing tweets and output data a list of (text, label) tuples.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">filename</span></td><td class="fieldArgDesc">the input csv filename.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">label</span></td><td class="fieldArgDesc">the label to be appended to each tweet contained in the csv file.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">word​_tokenizer</span></td><td class="fieldArgDesc">the tokenizer instance that will be used to tokenize
each sentence into tokens (e.g. WordPunctTokenizer() or BlanklineTokenizer()).
If no word_tokenizer is specified, tweets will not be tokenized.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">sent​_tokenizer</span></td><td class="fieldArgDesc">the tokenizer that will be used to split each tweet into
sentences.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">skip​_header</span></td><td class="fieldArgDesc">if True, skip the first line of the csv file (which usually
contains headers).</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">a list of (text, label) tuples.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.split_train_test">
    
  </a>
  <a name="split_train_test">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">split_train_test</span>(all_instances, n=None):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L289">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Randomly split <code>n</code> instances of the dataset into train and test sets.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">all​_instances</span></td><td class="fieldArgDesc">a list of instances (e.g. documents) that will be split.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">n</span></td><td class="fieldArgDesc">the number of instances to consider (in case we want to use only a
subset).</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">two lists of instances. Train set is 8/10 of the total and test set
is 2/10 of the total.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="nltk.sentiment.util.timer">
    
  </a>
  <a name="timer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">timer</span>(method):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L134">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>A timer decorator to measure execution performance of methods.</div>
  </div>
</div><div class="baseconstant">
  
  
  <a name="nltk.sentiment.util.CLAUSE_PUNCT">
    
  </a>
  <a name="CLAUSE_PUNCT">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">CLAUSE_PUNCT</span>: <code>str</code> =
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L46">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><span class="rst-variable-quote">'</span><span class="rst-variable-string">^[.:;!?]$</span><span class="rst-variable-quote">'</span></code></pre></td></tr></table>
  </div>
</div><div class="baseconstant">
  
  
  <a name="nltk.sentiment.util.CLAUSE_PUNCT_RE">
    
  </a>
  <a name="CLAUSE_PUNCT_RE">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">CLAUSE_PUNCT_RE</span> =
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L47">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>re.compile(<wbr></wbr><a href="#CLAUSE_PUNCT" class="internal-link" title="nltk.sentiment.util.CLAUSE_PUNCT">CLAUSE_PUNCT</a>)</code></pre></td></tr></table>
  </div>
</div><div class="baseconstant">
  
  
  <a name="nltk.sentiment.util.HAPPY">
    
  </a>
  <a name="HAPPY">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">HAPPY</span> =
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L51">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>set(<wbr></wbr>[<wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">:-)</span><span class="rst-variable-quote">'</span>,
     <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">:)</span><span class="rst-variable-quote">'</span>,
     <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">;)</span><span class="rst-variable-quote">'</span>,
     <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">:o)</span><span class="rst-variable-quote">'</span>,
     <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">:]</span><span class="rst-variable-quote">'</span>,
     <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">:3</span><span class="rst-variable-quote">'</span>,
     <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">:c)</span><span class="rst-variable-quote">'</span>,
<span class="rst-variable-ellipsis">...</span></code></pre></td></tr></table>
  </div>
</div><div class="baseconstant">
  
  
  <a name="nltk.sentiment.util.NEGATION">
    
  </a>
  <a name="NEGATION">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">NEGATION</span>: <code>str</code> =
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L34">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><span class="rst-variable-quote">'''</span><span class="rst-variable-string"></span>
<span class="rst-variable-string">    (?:</span>
<span class="rst-variable-string">        ^(?:never|no|nothing|nowhere|noone|none|not|</span>
<span class="rst-variable-string">            havent|hasnt|hadnt|cant|couldnt|shouldnt|</span>
<span class="rst-variable-string">            wont|wouldnt|dont|doesnt|didnt|isnt|arent|aint</span>
<span class="rst-variable-string">        )$</span>
<span class="rst-variable-string">    )</span>
<span class="rst-variable-ellipsis">...</span></code></pre></td></tr></table>
  </div>
</div><div class="baseconstant">
  
  
  <a name="nltk.sentiment.util.NEGATION_RE">
    
  </a>
  <a name="NEGATION_RE">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">NEGATION_RE</span> =
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L44">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>re.compile(<wbr></wbr><a href="#NEGATION" class="internal-link" title="nltk.sentiment.util.NEGATION">NEGATION</a>, <wbr></wbr>re.VERBOSE)</code></pre></td></tr></table>
  </div>
</div><div class="baseconstant">
  
  
  <a name="nltk.sentiment.util.SAD">
    
  </a>
  <a name="SAD">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">SAD</span> =
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L102">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>set(<wbr></wbr>[<wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">:L</span><span class="rst-variable-quote">'</span>,
     <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">:-/</span><span class="rst-variable-quote">'</span>,
     <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">&gt;:/</span><span class="rst-variable-quote">'</span>,
     <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">:S</span><span class="rst-variable-quote">'</span>,
     <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">&gt;:[</span><span class="rst-variable-quote">'</span>,
     <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">:@</span><span class="rst-variable-quote">'</span>,
     <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">:-(</span><span class="rst-variable-quote">'</span>,
<span class="rst-variable-ellipsis">...</span></code></pre></td></tr></table>
  </div>
</div><div class="basefunction private">
  
  
  <a name="nltk.sentiment.util._show_plot">
    
  </a>
  <a name="_show_plot">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_show_plot</span>(x_values, y_values, x_labels=None, y_labels=None):
    <a class="sourceLink" href="https://github.com/nltk/nltk/tree/3.6.2/nltk/sentiment/util.py#L309">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="http://www.nltk.org/" class="projecthome">nltk-3.6.2</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.2.dev0 at 2022-03-04 17:22:04.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>