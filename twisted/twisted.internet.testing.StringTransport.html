<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.internet.testing.StringTransport</title>
    <meta name="generator" content="pydoctor 21.2.2"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          <a href="http://twistedmatrix.com/" class="projecthome">Twisted</a> <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <form action="search-results.html" id="search-box-container">
          <div class="input-group">
            <input id="search-box" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" />
            <span class="input-group-btn">
              <button class="btn btn-default" type="submit" title="Search"><img src="fonts/search.svg" alt="Search!" /></button>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help!" /></a>
            </span>
          </div>
        </form>

        <div class="rst-admonition hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”:
                  <br /> <code>'+foo bar -baz'</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”:
                  <br /> <code>'foo*'</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all documents 
                  that contains "foo" in their full dotted name and with “bar” in any field:
                  <br /> <code>'+fullName:*foo* +bar'</code>

                  <p>
                    Possible fields: 'name', 'docstring', 'fullName'.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”:
                  <br /> <code>'foo~1'</code>
                </li>
            </ul>

          </p>
        </div>

      </div>


    </div>
  </div>

  <script>
 
    function toggleSearchHelpText() {
        document.body.classList.toggle("search-help-hidden");
    }
    // Init search and help text
    document.getElementById('search-box-container').style.display = 'block';
    document.getElementById('search-help-box').style.display = 'block';
    document.body.classList.add("search-help-hidden");

  </script>

</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="twisted.html">twisted</a></code><wbr></wbr>.<code><a href="twisted.internet.html">internet</a></code><wbr></wbr>.<code><a href="twisted.internet.testing.html">testing</a></code><wbr></wbr>.<code><a href="twisted.internet.testing.StringTransport.html">StringTransport</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">StringTransport</span>: <a href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L137" class="sourceLink">(source)</a></code></p><p>Known subclasses: <code><a href="twisted.internet.testing.StringTransportWithDisconnection.html">twisted.internet.testing.StringTransportWithDisconnection</a></code></p><p>Implements interfaces: <code><a href="twisted.internet.interfaces.IConsumer.html">twisted.internet.interfaces.IConsumer</a></code>, <code><a href="twisted.internet.interfaces.IPushProducer.html">twisted.internet.interfaces.IPushProducer</a></code>, <code><a href="twisted.internet.interfaces.ITransport.html">twisted.internet.interfaces.ITransport</a></code></p>
        <p><a href="classIndex.html#twisted.internet.testing.StringTransport">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>A transport implementation which buffers data in memory and keeps track of its other state without providing any behavior.</p><p><code><a href="twisted.internet.testing.StringTransport.html">StringTransport</a></code> has a number of attributes which are not part of any of the interfaces it claims to implement.  These attributes are provided for testing purposes.  Implementation code should not use any of these attributes; they are not provided by other transports.</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1279">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__">__init__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#abortConnection">abortConnection</a></code></td>
    <td><span>Abort the connection. Same as <code>loseConnection</code>, but also toggles the <code>aborted</code> instance variable to <code>True</code>.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#clear">clear</a></code></td>
    <td><span>Discard all data written to this transport so far.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#getHost">getHost</a></code></td>
    <td><span>Similar to getPeer, but returns an address describing this side of the connection.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#getPeer">getPeer</a></code></td>
    <td><span>Get the remote address of this connection.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#loseConnection">loseConnection</a></code></td>
    <td><span>Close the connection. Does nothing besides toggle the <code>disconnecting</code> instance variable to <code>True</code>.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#pauseProducing">pauseProducing</a></code></td>
    <td><span>Pause producing data.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#registerProducer">registerProducer</a></code></td>
    <td><span>Register to receive data from a producer.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#resumeProducing">resumeProducing</a></code></td>
    <td><span>Resume producing data.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#stopProducing">stopProducing</a></code></td>
    <td><span>Stop producing data.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#unregisterProducer">unregisterProducer</a></code></td>
    <td><span>Stop consuming data from a producer, without disconnecting.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#value">value</a></code></td>
    <td><span>Retrieve all data which has been buffered by this transport.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#write">write</a></code></td>
    <td><span>Write some data to the physical connection, in sequence, in a non-blocking fashion.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#writeSequence">writeSequence</a></code></td>
    <td><span>Write an iterable of byte strings to the physical connection.</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#connected">connected</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#disconnected">disconnected</a></code></td>
    <td><span>A <code>bool</code> which is <code>False</code> until <code><a href="#abortConnection">abortConnection</a></code> is called, then <code>True</code>.</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#disconnecting">disconnecting</a></code></td>
    <td><span>A <code>bool</code> which is <code>False</code> until <code><a href="#loseConnection">loseConnection</a></code> is called, then <code>True</code>.</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#hostAddr">hostAddr</a></code></td>
    <td><span><code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code> or an object which will be returned as the host address of this transport.  If <code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code>, a nasty tuple will be returned instead.</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#io">io</a></code></td>
    <td><span>A <code><a href="https://docs.python.org/3/library/io.html#io.BytesIO">io.BytesIO</a></code> which holds the data which has been written to this transport since the last call to <code><a href="#clear">clear</a></code>.  Use <code><a href="#value">value</a></code> instead of accessing this directly.</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#peerAddr">peerAddr</a></code></td>
    <td><span><code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code> or an object which will be returned as the peer address of this transport.  If <code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code>, a nasty tuple will be returned instead.</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#producer">producer</a></code></td>
    <td><span>If a producer is currently registered, <code>producer</code> is a reference to it.  Otherwise, <code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code>.</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#producerState">producerState</a></code></td>
    <td><span>The state of this <code><a href="twisted.internet.testing.StringTransport.html">StringTransport</a></code> in its capacity as an <code><a href="twisted.internet.interfaces.IPushProducer.html">IPushProducer</a></code>.  One of <code>'producing'</code>, <code>'paused'</code>, or <code>'stopped'</code>.</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#streaming">streaming</a></code></td>
    <td><span>If a producer is currently registered, <code>streaming</code> refers to the value of the second parameter passed to <code>registerProducer</code>.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_checkState">_checkState</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_lenient">_lenient</a></code></td>
    <td><span>By default <code><a href="twisted.internet.testing.StringTransport.html">StringTransport</a></code> enforces that <code><a href="#resumeProducing">resumeProducing</a></code> is not called after the connection is lost. This is to ensure that any code that does call <code><a href="#resumeProducing">resumeProducing</a></code> after the connection is lost is not blindly expecting <code><a href="#resumeProducing">resumeProducing</a></code> to have any impact.<p>However, if your test case is calling <code><a href="#resumeProducing">resumeProducing</a></code> after connection close on purpose, and you know it won't block expecting further data to show up, this flag may safely be set to <code><a href="https://docs.python.org/3/library/constants.html#True">True</a></code>.</p><p>Defaults to <code><a href="https://docs.python.org/3/library/constants.html#False">False</a></code>.</p></span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, hostAddress=None, peerAddress=None, lenient=False):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L201">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.abortConnection">
    
  </a>
  <a name="abortConnection">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">abortConnection</span>(self):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L247">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Abort the connection. Same as <code>loseConnection</code>, but also toggles the <code>aborted</code> instance variable to <code>True</code>.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.clear">
    
  </a>
  <a name="clear">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">clear</span>(self):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L210">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Discard all data written to this transport so far.</p><p>This is not a transport method.  It is intended for tests.  Do not use it in implementation code.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.getHost">
    
  </a>
  <a name="getHost">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">getHost</span>(self):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L260">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.ITransport.html#getHost">twisted.internet.interfaces.ITransport</a></code></div>
    
    <div><p>Similar to getPeer, but returns an address describing this side of the connection.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">An <code><a href="twisted.internet.interfaces.IAddress.html">IAddress</a></code> provider.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.getPeer">
    
  </a>
  <a name="getPeer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">getPeer</span>(self):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L255">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.ITransport.html#getPeer">twisted.internet.interfaces.ITransport</a></code></div>
    
    <div><p>Get the remote address of this connection.</p><p>Treat this method with caution.  It is the unfortunate result of the CGI and Jabber standards, but should not be considered reliable for the usual host of reasons; port forwarding, proxying, firewalls, IP masquerading, etc.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">An <code><a href="twisted.internet.interfaces.IAddress.html">IAddress</a></code> provider.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.loseConnection">
    
  </a>
  <a name="loseConnection">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">loseConnection</span>(self):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L240">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.ITransport.html#loseConnection">twisted.internet.interfaces.ITransport</a></code></div><div class="interfaceinfo">overridden in <code><a href="twisted.internet.testing.StringTransportWithDisconnection.html">twisted.internet.testing.StringTransportWithDisconnection</a></code></div>
    
    <div><p>Close the connection. Does nothing besides toggle the <code>disconnecting</code> instance variable to <code>True</code>.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.pauseProducing">
    
  </a>
  <a name="pauseProducing">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">pauseProducing</span>(self):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L285">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.IPushProducer.html#pauseProducing">twisted.internet.interfaces.IPushProducer</a></code></div>
    
    <div><p>Pause producing data.</p><p>Tells a producer that it has produced too much data to process for the time being, and to stop until <code>resumeProducing()</code> is called.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.registerProducer">
    
  </a>
  <a name="registerProducer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">registerProducer</span>(self, producer, streaming):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L266">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.IConsumer.html#registerProducer">twisted.internet.interfaces.IConsumer</a></code></div>
    
    <div><p>Register to receive data from a producer.</p><p>This sets self to be a consumer for a producer.  When this object runs out of data (as when a send(2) call on a socket succeeds in moving the last data from a userspace buffer into a kernelspace buffer), it will ask the producer to resumeProducing().</p><p>For <code><a href="twisted.internet.interfaces.IPullProducer.html">IPullProducer</a></code> providers, <code>resumeProducing</code> will be called once each time data is required.</p><p>For <code><a href="twisted.internet.interfaces.IPushProducer.html">IPushProducer</a></code> providers, <code>pauseProducing</code> will be called whenever the write buffer fills up and <code>resumeProducing</code> will only be called when it empties.  The consumer will only call <code>resumeProducing</code> to balance a previous <code>pauseProducing</code> call; the producer is assumed to start in an un-paused state.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">producer</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">streaming</span></td><td class="fieldArgDesc"><code>True</code> if <code>producer</code> provides <code><a href="twisted.internet.interfaces.IPushProducer.html">IPushProducer</a></code>, <code>False</code> if <code>producer</code> provides <code><a href="twisted.internet.interfaces.IPullProducer.html">IPullProducer</a></code>.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/exceptions.html#RuntimeError">RuntimeError</a></code></td><td>If a producer is already registered.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.resumeProducing">
    
  </a>
  <a name="resumeProducing">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">resumeProducing</span>(self):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L292">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.IPushProducer.html#resumeProducing">twisted.internet.interfaces.IPushProducer</a></code></div>
    
    <div><p>Resume producing data.</p><p>This tells a producer to re-add itself to the main loop and produce more data for its consumer.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.stopProducing">
    
  </a>
  <a name="stopProducing">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">stopProducing</span>(self):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L289">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.IProducer.html#stopProducing">twisted.internet.interfaces.IProducer</a></code></div>
    
    <div><p>Stop producing data.</p><p>This tells a producer that its consumer has died, so it must stop producing data for good.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.unregisterProducer">
    
  </a>
  <a name="unregisterProducer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">unregisterProducer</span>(self):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L272">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.IConsumer.html#unregisterProducer">twisted.internet.interfaces.IConsumer</a></code></div>
    
    <div><p>Stop consuming data from a producer, without disconnecting.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.value">
    
  </a>
  <a name="value">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">value</span>(self):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L219">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Retrieve all data which has been buffered by this transport.</p><p>This is not a transport method.  It is intended for tests.  Do not use it in implementation code.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>bytes</code></td><td class="fieldArgDesc">A <code>bytes</code> giving all data written to this transport since the last call to <code><a href="#clear">clear</a></code>.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.write">
    
  </a>
  <a name="write">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">write</span>(self, data):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L233">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.ITransport.html#write">twisted.internet.interfaces.ITransport</a></code></div>
    
    <div><p>Write some data to the physical connection, in sequence, in a non-blocking fashion.</p><p>If possible, make sure that it is all written.  No data will ever be lost, although (obviously) the connection may be closed before it all gets through.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">data</span></td><td class="fieldArgDesc">The data to write.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.testing.StringTransport.writeSequence">
    
  </a>
  <a name="writeSequence">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">writeSequence</span>(self, data):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L237">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.ITransport.html#writeSequence">twisted.internet.interfaces.ITransport</a></code></div>
    
    <div><p>Write an iterable of byte strings to the physical connection.</p><p>If possible, make sure that all of the data is written to the socket at once, without first copying it all into a single byte string.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">data</span></td><td class="fieldArgDesc">The data to write.</td></tr></table></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.internet.testing.StringTransport.connected">
    
  </a>
  <a name="connected">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">connected</span>: <code><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></code> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L207">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overridden in <code><a href="twisted.internet.testing.StringTransportWithDisconnection.html">twisted.internet.testing.StringTransportWithDisconnection</a></code></div>
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.internet.testing.StringTransport.disconnected">
    
  </a>
  <a name="disconnected">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">disconnected</span>: <code><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></code> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L151">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div>A <code>bool</code> which is <code>False</code> until <code><a href="#abortConnection">abortConnection</a></code> is called, then <code>True</code>.</div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.internet.testing.StringTransport.disconnecting">
    
  </a>
  <a name="disconnecting">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">disconnecting</span>: <code><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></code> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L148">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div>A <code>bool</code> which is <code>False</code> until <code><a href="#loseConnection">loseConnection</a></code> is called, then <code>True</code>.</div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.internet.testing.StringTransport.hostAddr">
    
  </a>
  <a name="hostAddr">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">hostAddr</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L160">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code> or an object which will be returned as the host address of this transport.  If <code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code>, a nasty tuple will be returned instead.</div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.internet.testing.StringTransport.io">
    
  </a>
  <a name="io">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">io</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L172">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div>A <code><a href="https://docs.python.org/3/library/io.html#io.BytesIO">io.BytesIO</a></code> which holds the data which has been written to this transport since the last call to <code><a href="#clear">clear</a></code>.  Use <code><a href="#value">value</a></code> instead of accessing this directly.</div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.internet.testing.StringTransport.peerAddr">
    
  </a>
  <a name="peerAddr">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">peerAddr</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L164">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code> or an object which will be returned as the peer address of this transport.  If <code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code>, a nasty tuple will be returned instead.</div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.internet.testing.StringTransport.producer">
    
  </a>
  <a name="producer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">producer</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L154">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div>If a producer is currently registered, <code>producer</code> is a reference to it.  Otherwise, <code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code>.</div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.internet.testing.StringTransport.producerState">
    
  </a>
  <a name="producerState">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">producerState</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L168">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div>The state of this <code><a href="twisted.internet.testing.StringTransport.html">StringTransport</a></code> in its capacity as an <code><a href="twisted.internet.interfaces.IPushProducer.html">IPushProducer</a></code>.  One of <code>'producing'</code>, <code>'paused'</code>, or <code>'stopped'</code>.</div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.internet.testing.StringTransport.streaming">
    
  </a>
  <a name="streaming">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">streaming</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L157">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div>If a producer is currently registered, <code>streaming</code> refers to the value of the second parameter passed to <code>registerProducer</code>.</div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.internet.testing.StringTransport._checkState">
    
  </a>
  <a name="_checkState">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_checkState</span>(self):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L279">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.internet.testing.StringTransport._lenient">
    
  </a>
  <a name="_lenient">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_lenient</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/testing.py#L176">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div>By default <code><a href="twisted.internet.testing.StringTransport.html">StringTransport</a></code> enforces that <code><a href="#resumeProducing">resumeProducing</a></code> is not called after the connection is lost. This is to ensure that any code that does call <code><a href="#resumeProducing">resumeProducing</a></code> after the connection is lost is not blindly expecting <code><a href="#resumeProducing">resumeProducing</a></code> to have any impact.<p>However, if your test case is calling <code><a href="#resumeProducing">resumeProducing</a></code> after connection close on purpose, and you know it won't block expecting further data to show up, this flag may safely be set to <code><a href="https://docs.python.org/3/library/constants.html#True">True</a></code>.</p><p>Defaults to <code><a href="https://docs.python.org/3/library/constants.html#False">False</a></code>.</p></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/" class="projecthome">Twisted</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.2.2 at 2021-06-29 01:17:05.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>