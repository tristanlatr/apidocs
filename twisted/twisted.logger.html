<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.logger</title>
    <meta name="generator" content="pydoctor 21.2.2"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          <a href="https://twistedmatrix.com/" class="projecthome">Twisted</a> <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <form action="search-results.html" id="search-box-container">
          <div class="input-group">
            <input id="search-box" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" />
            <span class="input-group-btn">
              <button class="btn btn-default" type="submit" title="Search"><img src="fonts/search.svg" alt="Search!" /></button>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help!" /></a>
            </span>
          </div>
        </form>

        <div class="rst-admonition hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”:
                  <br /> <code>'+foo bar -baz'</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”:
                  <br /> <code>'foo*'</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all documents 
                  that contains "foo" in their full dotted name and with “bar” in any field:
                  <br /> <code>'+fullName:*foo* +bar'</code>

                  <p>
                    Possible fields: 'name', 'docstring', 'fullName'.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”:
                  <br /> <code>'foo~1'</code>
                </li>
            </ul>

          </p>
        </div>

      </div>


    </div>
  </div>

  <script>
 
    function toggleSearchHelpText() {
        document.body.classList.toggle("search-help-hidden");
    }
    // Init search and help text
    document.getElementById('search-box-container').style.display = 'block';
    document.getElementById('search-help-box').style.display = 'block';
    document.body.classList.add("search-help-hidden");

  </script>

</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="package"><code><code><a href="twisted.html">twisted</a></code><wbr></wbr>.<code><a href="twisted.logger.html">logger</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        package documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/__init__.py" class="sourceLink">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Twisted Logger: Classes and functions to do granular logging.</p><p>Example usage in a module <code>some.module</code>:</p><pre class="literalblock">
    from twisted.logger import Logger
    log = Logger()

    def handleData(data):
        log.debug("Got data: {data!r}.", data=data)
</pre><p>Or in a class:</p><pre class="literalblock">
    from twisted.logger import Logger

    class Foo:
        log = Logger()

        def oops(self, data):
            self.log.error("Oops! Invalid data from server: {data!r}",
                           data=data)
</pre><p><code>Logger</code>s have namespaces, for which logging can be configured independently. Namespaces may be specified by passing in a <code>namespace</code> argument to <code><a href="twisted.logger.Logger.html">Logger</a></code> when instantiating it, but if none is given, the logger will derive its own namespace by using the module name of the callable that instantiated it, or, in the case of a class, by using the fully qualified name of the class.</p><p>In the first example above, the namespace would be <code>some.module</code>, and in the second example, it would be <code>some.module.Foo</code>.</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1388">
  
  
  <tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._buffer.html">_buffer</a></code></td>
    <td><span>Log observer that maintains a buffer.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._capture.html">_capture</a></code></td>
    <td><span>Context manager for capturing logs.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._file.html">_file</a></code></td>
    <td><span>File log observer.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._filter.html">_filter</a></code></td>
    <td><span>Filtering log observer.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._flatten.html">_flatten</a></code></td>
    <td><span>Code related to "flattening" events; that is, extracting a description of all relevant fields from the format string and persisting them for later examination.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._format.html">_format</a></code></td>
    <td><span>Tools for formatting logging events.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._global.html">_global</a></code></td>
    <td><span>This module includes process-global state associated with the logging system, and implementation of logic for managing that global state.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._interfaces.html">_interfaces</a></code></td>
    <td><span>Logger interfaces.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._io.html">_io</a></code></td>
    <td><span>File-like object that logs.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._json.html">_json</a></code></td>
    <td><span>Tools for saving and loading log events in a structured format.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._legacy.html">_legacy</a></code></td>
    <td><span>Integration with <code><a href="twisted.python.log.html">twisted.python.log</a></code>.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._levels.html">_levels</a></code></td>
    <td><span>Log levels.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._logger.html">_logger</a></code></td>
    <td><span>Logger class.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._observer.html">_observer</a></code></td>
    <td><span>Basic log observers.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._stdlib.html">_stdlib</a></code></td>
    <td><span>Integration with Python standard library logging.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._util.html">_util</a></code></td>
    <td><span>Logging utilities.</span></td>
  </tr>
</table>
        

          <p class="fromInitPy">From <code>__init__.py</code>:</p><table class="children sortable" id="id1389">
  
  
  <tr class="interface">
    
    <td>Interface</td>
    <td><code><a href="twisted.logger.ILogFilterPredicate.html">ILogFilterPredicate</a></code></td>
    <td><span>A predicate that determined whether an event should be logged.</span></td>
  </tr><tr class="interface">
    
    <td>Interface</td>
    <td><code><a href="twisted.logger.ILogObserver.html">ILogObserver</a></code></td>
    <td><span>An observer which can handle log events.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.FileLogObserver.html">FileLogObserver</a></code></td>
    <td><span>Log observer that writes to a file-like object.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.FilteringLogObserver.html">FilteringLogObserver</a></code></td>
    <td><span><code><a href="twisted.logger.ILogObserver.html">ILogObserver</a></code> that wraps another <code><a href="twisted.logger.ILogObserver.html">ILogObserver</a></code>, but filters out events based on applying a series of <code><a href="twisted.logger.ILogFilterPredicate.html">ILogFilterPredicate</a></code>s.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.InvalidLogLevelError.html">InvalidLogLevelError</a></code></td>
    <td><span>Someone tried to use a <code><a href="twisted.logger.LogLevel.html">LogLevel</a></code> that is unknown to the logging system.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LegacyLogObserverWrapper.html">LegacyLogObserverWrapper</a></code></td>
    <td><span><code><a href="twisted.logger.ILogObserver.html">ILogObserver</a></code> that wraps a <code><a href="twisted.python.log.ILogObserver.html">twisted.python.log.ILogObserver</a></code>.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LimitedHistoryLogObserver.html">LimitedHistoryLogObserver</a></code></td>
    <td><span><code><a href="twisted.logger.ILogObserver.html">ILogObserver</a></code> that stores events in a buffer of a fixed size:</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LogBeginner.html">LogBeginner</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.Logger.html">Logger</a></code></td>
    <td><span>A <code><a href="twisted.logger.Logger.html">Logger</a></code> emits log messages to an observer.  You should instantiate it as a class or module attribute, as documented in <code><a href="twisted.logger.html">this module's documentation</a></code>.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LoggingFile.html">LoggingFile</a></code></td>
    <td><span>File-like object that turns <code>write()</code> calls into logging events.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LogLevel.html">LogLevel</a></code></td>
    <td><span>Constants describing log levels.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LogLevelFilterPredicate.html">LogLevelFilterPredicate</a></code></td>
    <td><span><code><a href="twisted.logger.ILogFilterPredicate.html">ILogFilterPredicate</a></code> that filters out events with a log level lower than the log level for the event's namespace.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LogPublisher.html">LogPublisher</a></code></td>
    <td><span><i>ILogObserver</i> that fans out events to other observers.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.PredicateResult.html">PredicateResult</a></code></td>
    <td><span>Predicate results.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.STDLibLogObserver.html">STDLibLogObserver</a></code></td>
    <td><span>Log observer that writes to the python standard library's <code>logging</code> module.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#capturedLogs">capturedLogs</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#eventAsJSON">eventAsJSON</a></code></td>
    <td><span>Encode an event as JSON, flattening it if necessary to preserve as much structure as possible.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#eventAsText">eventAsText</a></code></td>
    <td><span>Format an event as text.  Optionally, attach timestamp, traceback, and system information.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#eventFromJSON">eventFromJSON</a></code></td>
    <td><span>Decode a log event from JSON.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#eventsFromJSONLogFile">eventsFromJSONLogFile</a></code></td>
    <td><span>Load events from a file previously saved with <code><a href="#jsonFileLogObserver">jsonFileLogObserver</a></code>. Event records that are truncated or otherwise unreadable are ignored.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#extractField">extractField</a></code></td>
    <td><span>Extract a given format field from the given event.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#formatEvent">formatEvent</a></code></td>
    <td><span>Formats an event as text, using the format in <code>event["log_format"]</code>.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#formatEventAsClassicLogText">formatEventAsClassicLogText</a></code></td>
    <td><span>Format an event as a line of human-readable text for, e.g. traditional log file output.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#formatTime">formatTime</a></code></td>
    <td><span>Format a timestamp as text.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#jsonFileLogObserver">jsonFileLogObserver</a></code></td>
    <td><span>Create a <code><a href="twisted.logger.FileLogObserver.html">FileLogObserver</a></code> that emits JSON-serialized events to a specified (writable) file-like object.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#textFileLogObserver">textFileLogObserver</a></code></td>
    <td><span>Create a <code><a href="twisted.logger.FileLogObserver.html">FileLogObserver</a></code> that emits text to a specified (writable) file-like object.</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#globalLogBeginner">globalLogBeginner</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#globalLogPublisher">globalLogPublisher</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#LogEvent">LogEvent</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#timeFormatRFC3339">timeFormatRFC3339</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_loggerFor">_loggerFor</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
      </div>

      <div id="childList">

        <div class="basevariable">
  
  
  <a name="twisted.logger.globalLogPublisher">
    
  </a>
  <a name="globalLogPublisher">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">globalLogPublisher</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_global.py#L227">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="twisted.logger.globalLogBeginner">
    
  </a>
  <a name="globalLogBeginner">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">globalLogBeginner</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_global.py#L228">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.extractField">
    
  </a>
  <a name="extractField">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">extractField</span>(field, event):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_flatten.py#L124">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Extract a given format field from the given event.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">field:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code></td><td class="fieldArgDesc">A string describing a format field or log key.  This is the text that would normally fall between a pair of curly braces in a format string: for example, <code>"key[2].attribute"</code>.  If a conversion is specified (the thing after the <code>"!"</code> character in a format field) then the result will always be str.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">event:</span><code><a href="#LogEvent">LogEvent</a></code></td><td class="fieldArgDesc">A log event.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>Any</code></td><td class="fieldArgDesc">A value extracted from the field.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/exceptions.html#KeyError">KeyError</a></code></td><td>if the field is not found in the given event.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.formatEvent">
    
  </a>
  <a name="formatEvent">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">formatEvent</span>(event):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_format.py#L26">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Formats an event as text, using the format in <code>event["log_format"]</code>.</p><p>This implementation should never raise an exception; if the formatting cannot be done, the returned string will describe the event generically so that a useful message is emitted regardless.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">event:</span><code><a href="#LogEvent">LogEvent</a></code></td><td class="fieldArgDesc">A logging event.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code></td><td class="fieldArgDesc">A formatted string.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.formatEventAsClassicLogText">
    
  </a>
  <a name="formatEventAsClassicLogText">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">formatEventAsClassicLogText</span>(event, formatTime=formatTime):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_format.py#L116">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Format an event as a line of human-readable text for, e.g. traditional log file output.</p><p>The output format is <code>"{timeStamp} [{system}] {event}\n"</code>, where:</p><ul><li><code>timeStamp</code> is computed by calling the given <code>formatTime</code> callable on the event's <code>"log_time"</code> value</li><li><code>system</code> is the event's <code>"log_system"</code> value, if set, otherwise, the <code>"log_namespace"</code> and <code>"log_level"</code>, joined by a <code>"#"</code>.  Each defaults to <code>"-"</code> is not set.</li><li><code>event</code> is the event, as formatted by <code><a href="#formatEvent">formatEvent</a></code>.</li></ul><p>Example:</p><pre class="literalblock">
    &gt;&gt;&gt; from time import time
    &gt;&gt;&gt; from twisted.logger import formatEventAsClassicLogText
    &gt;&gt;&gt; from twisted.logger import LogLevel
    &gt;&gt;&gt;
    &gt;&gt;&gt; formatEventAsClassicLogText(dict())  # No format, returns None
    &gt;&gt;&gt; formatEventAsClassicLogText(dict(log_format="Hello!"))
    u'- [-#-] Hello!\n'
    &gt;&gt;&gt; formatEventAsClassicLogText(dict(
    ...     log_format="Hello!",
    ...     log_time=time(),
    ...     log_namespace="my_namespace",
    ...     log_level=LogLevel.info,
    ... ))
    u'2013-10-22T17:30:02-0700 [my_namespace#info] Hello!\n'
    &gt;&gt;&gt; formatEventAsClassicLogText(dict(
    ...     log_format="Hello!",
    ...     log_time=time(),
    ...     log_system="my_system",
    ... ))
    u'2013-11-11T17:22:06-0800 [my_system] Hello!\n'
    &gt;&gt;&gt;
</pre><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">event:</span><code><a href="#LogEvent">LogEvent</a></code></td><td class="fieldArgDesc">an event.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">formatTime:</span><code>Callable[<wbr></wbr>[<wbr></wbr>Optional[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#float">float</a>]], <wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code></td><td class="fieldArgDesc">A time formatter</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>Optional[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code></td><td class="fieldArgDesc">A formatted event, or <code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code> if no output is appropriate.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.formatTime">
    
  </a>
  <a name="formatTime">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">formatTime</span>(when, timeFormat=timeFormatRFC3339, default='-'):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_format.py#L82">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Format a timestamp as text.</p><p>Example:</p><pre class="literalblock">
    &gt;&gt;&gt; from time import time
    &gt;&gt;&gt; from twisted.logger import formatTime
    &gt;&gt;&gt;
    &gt;&gt;&gt; t = time()
    &gt;&gt;&gt; formatTime(t)
    u'2013-10-22T14:19:11-0700'
    &gt;&gt;&gt; formatTime(t, timeFormat="%Y/%W")  # Year and week number
    u'2013/42'
    &gt;&gt;&gt;
</pre><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">when:</span><code>Optional[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#float">float</a>]</code></td><td class="fieldArgDesc">A timestamp.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">timeFormat:</span><code>Optional[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code></td><td class="fieldArgDesc">A time format.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">default:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code></td><td class="fieldArgDesc">Text to return if <code>when</code> or <code>timeFormat</code> is <code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code>.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code></td><td class="fieldArgDesc">A formatted time.</td></tr></table></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="twisted.logger.timeFormatRFC3339">
    
  </a>
  <a name="timeFormatRFC3339">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">timeFormatRFC3339</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_format.py#L23">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.eventAsText">
    
  </a>
  <a name="eventAsText">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">eventAsText</span>(event, includeTraceback=True, includeTimestamp=True, includeSystem=True, formatTime=formatTime):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_format.py#L313">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Format an event as text.  Optionally, attach timestamp, traceback, and system information.</p><p>The full output format is: <code>"{timeStamp} [{system}] {event}\n{traceback}\n"</code> where:</p><ul><li><code>timeStamp</code> is the event's <code>"log_time"</code> value formatted with the provided <code>formatTime</code> callable.</li><li><code>system</code> is the event's <code>"log_system"</code> value, if set, otherwise, the <code>"log_namespace"</code> and <code>"log_level"</code>, joined by a <code>"#"</code>.  Each defaults to <code>"-"</code> is not set.</li><li><code>event</code> is the event, as formatted by <code><a href="#formatEvent">formatEvent</a></code>.</li><li><code>traceback</code> is the traceback if the event contains a <code>"log_failure"</code> key.  In the event the original traceback cannot be formatted, a message indicating the failure will be substituted.</li></ul><p>If the event cannot be formatted, and no traceback exists, an empty string is returned, even if includeSystem or includeTimestamp are true.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">event:</span><code><a href="#LogEvent">LogEvent</a></code></td><td class="fieldArgDesc">A logging event.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">includeTraceback:</span><code><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></code></td><td class="fieldArgDesc">If true and a <code>"log_failure"</code> key exists, append a traceback.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">includeTimestamp:</span><code><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></code></td><td class="fieldArgDesc">If true include a formatted timestamp before the event.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">includeSystem:</span><code><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></code></td><td class="fieldArgDesc">If true, include the event's <code>"log_system"</code> value.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">formatTime:</span><code>Callable[<wbr></wbr>[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#float">float</a>], <wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code></td><td class="fieldArgDesc">A time formatter</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code></td><td class="fieldArgDesc">A formatted string with specified options.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Present Since</td></tr><tr><td colspan="2">Twisted 18.9.0</td></tr></table></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="twisted.logger.LogEvent">
    
  </a>
  <a name="LogEvent">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">LogEvent</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_interfaces.py#L16">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basevariable private">
  
  
  <a name="twisted.logger._loggerFor">
    
  </a>
  <a name="_loggerFor">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_loggerFor</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_logger.py#L270">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.textFileLogObserver">
    
  </a>
  <a name="textFileLogObserver">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">textFileLogObserver</span>(outFile, timeFormat=timeFormatRFC3339):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_file.py#L59">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Create a <code><a href="twisted.logger.FileLogObserver.html">FileLogObserver</a></code> that emits text to a specified (writable) file-like object.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">outFile:</span><code>IO[<wbr></wbr>Any]</code></td><td class="fieldArgDesc">A file-like object.  Ideally one should be passed which accepts text data.  Otherwise, UTF-8 <code><a href="https://docs.python.org/3/library/stdtypes.html#bytes">bytes</a></code> will be used.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">timeFormat:</span><code>Optional[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code></td><td class="fieldArgDesc">The format to use when adding timestamp prefixes to logged events.  If <code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code>, or for events with no <code>"log_timestamp"</code> key, the default timestamp prefix of <code>"-"</code> is used.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="twisted.logger.FileLogObserver.html">FileLogObserver</a></code></td><td class="fieldArgDesc">A file log observer.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.eventAsJSON">
    
  </a>
  <a name="eventAsJSON">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">eventAsJSON</span>(event):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_json.py#L121">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Encode an event as JSON, flattening it if necessary to preserve as much structure as possible.</p><p>Not all structure from the log event will be preserved when it is serialized.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">event:</span><code><a href="#LogEvent">LogEvent</a></code></td><td class="fieldArgDesc">A log event dictionary.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code></td><td class="fieldArgDesc">A string of the serialized JSON; note that this will contain no newline characters, and may thus safely be stored in a line-delimited file.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.eventFromJSON">
    
  </a>
  <a name="eventFromJSON">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">eventFromJSON</span>(eventText):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_json.py#L152">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Decode a log event from JSON.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">eventText:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code></td><td class="fieldArgDesc">The output of a previous call to <code><a href="#eventAsJSON">eventAsJSON</a></code></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>JSONDict</code></td><td class="fieldArgDesc">A reconstructed version of the log event.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.jsonFileLogObserver">
    
  </a>
  <a name="jsonFileLogObserver">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">jsonFileLogObserver</span>(outFile, recordSeparator='\x1e'):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_json.py#L163">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Create a <code><a href="twisted.logger.FileLogObserver.html">FileLogObserver</a></code> that emits JSON-serialized events to a specified (writable) file-like object.</p><p>Events are written in the following form:</p><pre class="literalblock">
    RS + JSON + NL
</pre><p><code>JSON</code> is the serialized event, which is JSON text.  <code>NL</code> is a newline (<code>"\n"</code>).  <code>RS</code> is a record separator.  By default, this is a single RS character (<code>"\x1e"</code>), which makes the default output conform to the IETF draft document "draft-ietf-json-text-sequence-13".</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">outFile:</span><code>IO[<wbr></wbr>Any]</code></td><td class="fieldArgDesc">A file-like object.  Ideally one should be passed which accepts <code><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code> data.  Otherwise, UTF-8 <code><a href="https://docs.python.org/3/library/stdtypes.html#bytes">bytes</a></code> will be used.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">recordSeparator:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code></td><td class="fieldArgDesc">The record separator to use.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="twisted.logger.FileLogObserver.html">FileLogObserver</a></code></td><td class="fieldArgDesc">A file log observer.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.eventsFromJSONLogFile">
    
  </a>
  <a name="eventsFromJSONLogFile">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">eventsFromJSONLogFile</span>(inFile, recordSeparator=None, bufferSize=4096):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_json.py#L190">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Load events from a file previously saved with <code><a href="#jsonFileLogObserver">jsonFileLogObserver</a></code>. Event records that are truncated or otherwise unreadable are ignored.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">inFile:</span><code>IO[<wbr></wbr>Any]</code></td><td class="fieldArgDesc">A (readable) file-like object.  Data read from <code>inFile</code> should be <code><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code> or UTF-8 <code><a href="https://docs.python.org/3/library/stdtypes.html#bytes">bytes</a></code>.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">recordSeparator:</span><code>Optional[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code></td><td class="fieldArgDesc">The expected record separator. If <code><a href="https://docs.python.org/3/library/constants.html#None">None</a></code>, attempt to automatically detect the record separator from one of <code>"\x1e"</code> or <code>""</code>.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">bufferSize:</span><code><a href="https://docs.python.org/3/library/functions.html#int">int</a></code></td><td class="fieldArgDesc">The size of the read buffer used while reading from <code>inFile</code>.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>Iterable[<wbr></wbr><a href="#LogEvent">LogEvent</a>]</code></td><td class="fieldArgDesc">Log events as read from <code>inFile</code>.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.capturedLogs">
    
  </a>
  <a name="capturedLogs">
    
  </a>
  <div class="functionHeader">
    @contextmanager<br />
    <span class="py-keyword">def</span> <span class="py-defname">capturedLogs</span>():
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/logger/_capture.py#L17">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>Iterator[<wbr></wbr>Sequence[<wbr></wbr><a href="#LogEvent">LogEvent</a>]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="https://twistedmatrix.com/" class="projecthome">Twisted</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.2.2 at 2022-01-06 17:36:45.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>