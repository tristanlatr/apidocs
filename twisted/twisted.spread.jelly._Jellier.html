<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.spread.jelly._Jellier</title>
    <meta name="generator" content="pydoctor 21.2.2"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          <a href="https://twistedmatrix.com/" class="projecthome">Twisted</a> <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <form action="search-results.html" id="search-box-container">
          <div class="input-group">
            <input id="search-box" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" />
            <span class="input-group-btn">
              <button class="btn btn-default" type="submit" title="Search"><img src="fonts/search.svg" alt="Search!" /></button>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help!" /></a>
            </span>
          </div>
        </form>

        <div class="rst-admonition hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”:
                  <br /> <code>'+foo bar -baz'</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”:
                  <br /> <code>'foo*'</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all documents 
                  that contains "foo" in their full dotted name and with “bar” in any field:
                  <br /> <code>'+fullName:*foo* +bar'</code>

                  <p>
                    Possible fields: 'name', 'docstring', 'fullName'.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”:
                  <br /> <code>'foo~1'</code>
                </li>
            </ul>

          </p>
        </div>

      </div>


    </div>
  </div>

  <script>
 
    function toggleSearchHelpText() {
        document.body.classList.toggle("search-help-hidden");
    }
    // Init search and help text
    document.getElementById('search-box-container').style.display = 'block';
    document.getElementById('search-help-box').style.display = 'block';
    document.body.classList.add("search-help-hidden");

  </script>

</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class private"><code><code><a href="twisted.html">twisted</a></code><wbr></wbr>.<code><a href="twisted.spread.html">spread</a></code><wbr></wbr>.<code><a href="twisted.spread.jelly.html">jelly</a></code><wbr></wbr>.<code><a href="twisted.spread.jelly._Jellier.html">_Jellier</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">_Jellier</span>: <a href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L359" class="sourceLink">(source)</a></code></p>
        <p><a href="classIndex.html#twisted.spread.jelly._Jellier">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>(Internal) This class manages state for a call to jelly()</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id2831">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__">__init__</a></code></td>
    <td><span>Initialize.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#jelly">jelly</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#jelly_decimal">jelly_decimal</a></code></td>
    <td><span>Jelly a decimal object.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#prepare">prepare</a></code></td>
    <td><span>(internal) Create a list for persisting an object to.  This will allow backreferences to be made internal to the object. (circular references).</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#preserve">preserve</a></code></td>
    <td><span>(internal) Mark an object's persistent list for later referral.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#unpersistable">unpersistable</a></code></td>
    <td><span>(internal) Returns an sexp: (unpersistable "reason").  Utility method for making note that a particular object could not be serialized.</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#cooked">cooked</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#cooker">cooker</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#invoker">invoker</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#persistentStore">persistentStore</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#preserved">preserved</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#taster">taster</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_checkMutable">_checkMutable</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_cook">_cook</a></code></td>
    <td><span>(internal) Backreference an object.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_jellyIterable">_jellyIterable</a></code></td>
    <td><span>Jelly an iterable object.</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_ref_id">_ref_id</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="twisted.spread.jelly._Jellier.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, taster, persistentStore, invoker):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L364">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Initialize.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.spread.jelly._Jellier.jelly">
    
  </a>
  <a name="jelly">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">jelly</span>(self, obj):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L455">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.spread.jelly._Jellier.jelly_decimal">
    
  </a>
  <a name="jelly_decimal">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">jelly_decimal</span>(self, d):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L602">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Jelly a decimal object.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">d:</span><code>decimal.Decimal</code></td><td class="fieldArgDesc">a decimal object to serialize.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>list</code></td><td class="fieldArgDesc">jelly for the decimal object.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.spread.jelly._Jellier.prepare">
    
  </a>
  <a name="prepare">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">prepare</span>(self, object):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L409">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>(internal) Create a list for persisting an object to.  This will allow backreferences to be made internal to the object. (circular references).</p><p>The reason this needs to happen is that we don't generate an ID for every object, so we won't necessarily know which ID the object will have in the future.  When it is 'cooked' ( see _cook ), it will be assigned an ID, and the temporary placeholder list created here will be modified in-place to create an expression that gives this object an ID: [reference id# [object-jelly]].</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.spread.jelly._Jellier.preserve">
    
  </a>
  <a name="preserve">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">preserve</span>(self, object, sexp):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L433">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>(internal) Mark an object's persistent list for later referral.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.spread.jelly._Jellier.unpersistable">
    
  </a>
  <a name="unpersistable">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">unpersistable</span>(self, reason, sxp=None):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L618">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>(internal) Returns an sexp: (unpersistable "reason").  Utility method for making note that a particular object could not be serialized.</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.spread.jelly._Jellier.cooked">
    
  </a>
  <a name="cooked">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">cooked</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L373">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.spread.jelly._Jellier.cooker">
    
  </a>
  <a name="cooker">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">cooker</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L374">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.spread.jelly._Jellier.invoker">
    
  </a>
  <a name="invoker">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">invoker</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L377">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.spread.jelly._Jellier.persistentStore">
    
  </a>
  <a name="persistentStore">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">persistentStore</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L376">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.spread.jelly._Jellier.preserved">
    
  </a>
  <a name="preserved">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">preserved</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L370">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.spread.jelly._Jellier.taster">
    
  </a>
  <a name="taster">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">taster</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L368">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.spread.jelly._Jellier._checkMutable">
    
  </a>
  <a name="_checkMutable">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_checkMutable</span>(self, obj):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L447">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.spread.jelly._Jellier._cook">
    
  </a>
  <a name="_cook">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_cook</span>(self, object):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L379">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>(internal) Backreference an object.</p><p>Notes on this method for the hapless future maintainer: If I've already gone through the prepare/preserve cycle on the specified object (it is being referenced after the serializer is "done with" it, e.g. this reference is NOT circular), the copy-in-place of aList is relevant, since the list being modified is the actual, pre-existing jelly expression that was returned for that object. If not, it's technically superfluous, since the value in self.preserved didn't need to be set, but the invariant that self.preserved[id(object)] is a list is convenient because that means we don't have to test and create it or not create it here, creating fewer code-paths.  that's why self.preserved is always set to a list.</p><p>Sorry that this code is so hard to follow, but Python objects are tricky to persist correctly. -glyph</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.spread.jelly._Jellier._jellyIterable">
    
  </a>
  <a name="_jellyIterable">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_jellyIterable</span>(self, atom, obj):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L585">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Jelly an iterable object.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">atom:</span><code>str</code></td><td class="fieldArgDesc">the identifier atom of the object.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">obj:</span><code>iterable</code></td><td class="fieldArgDesc">any iterable object.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>generator</code></td><td class="fieldArgDesc">a generator of jellied data.</td></tr></table></div>
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.spread.jelly._Jellier._ref_id">
    
  </a>
  <a name="_ref_id">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_ref_id</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/spread/jelly.py#L375">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="https://twistedmatrix.com/" class="projecthome">Twisted</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.2.2 at 2022-01-06 17:36:45.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>