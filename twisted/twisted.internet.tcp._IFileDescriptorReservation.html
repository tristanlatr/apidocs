<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.internet.tcp._IFileDescriptorReservation</title>
    <meta name="generator" content="pydoctor 21.2.2"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          <a href="http://twistedmatrix.com/" class="projecthome">Twisted</a> <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <form action="search-results.html" id="search-box-container">
          <div class="input-group">
            <input id="search-box" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" />
            <span class="input-group-btn">
              <button class="btn btn-default" type="submit" title="Search"><img src="fonts/search.svg" alt="Search!" /></button>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help!" /></a>
            </span>
          </div>
        </form>

        <div class="rst-admonition hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”:
                  <br /> <code>'+foo bar -baz'</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”:
                  <br /> <code>'foo*'</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all documents 
                  that contains "foo" in their full dotted name and with “bar” in any field:
                  <br /> <code>'+fullName:*foo* +bar'</code>

                  <p>
                    Possible fields: 'name', 'docstring', 'fullName'.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”:
                  <br /> <code>'foo~1'</code>
                </li>
            </ul>

          </p>
        </div>

      </div>


    </div>
  </div>

  <script>
 
    function toggleSearchHelpText() {
        document.body.classList.toggle("search-help-hidden");
    }
    // Init search and help text
    document.getElementById('search-box-container').style.display = 'block';
    document.getElementById('search-help-box').style.display = 'block';
    document.body.classList.add("search-help-hidden");

  </script>

</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="interface private"><code><code><a href="twisted.html">twisted</a></code><wbr></wbr>.<code><a href="twisted.internet.html">internet</a></code><wbr></wbr>.<code><a href="twisted.internet.tcp.html">tcp</a></code><wbr></wbr>.<code><a href="twisted.internet.tcp._IFileDescriptorReservation.html">_IFileDescriptorReservation</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        interface documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">_IFileDescriptorReservation</span>(<a href="https://zopeinterface.readthedocs.io/en/latest/api/specifications.html#zope.interface.Interface" title="zope.interface.Interface">Interface</a>): <a href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/tcp.py#L876" class="sourceLink">(source)</a></code></p><p>Known implementations: <code><a href="twisted.internet.tcp._FileDescriptorReservation.html">twisted.internet.tcp._FileDescriptorReservation</a></code>, <code><a href="twisted.internet.tcp._NullFileDescriptorReservation.html">twisted.internet.tcp._NullFileDescriptorReservation</a></code></p>
        <p><a href="classIndex.html#twisted.internet.tcp._IFileDescriptorReservation">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>An open file that represents an emergency reservation in the process' file descriptor table.  If <code><a href="twisted.internet.tcp.Port.html">Port</a></code> encounters <code>EMFILE</code> on <code>accept(2)</code>, it can close this file descriptor, retry the <code>accept</code> so that the incoming connection occupies this file descriptor's space, and then close that connection and reopen this one.</p><p>Calling <code><a href="#reserve">_IFileDescriptorReservation.reserve</a></code> attempts to open the reserve file descriptor if it is not already open. <code><a href="#available">_IFileDescriptorReservation.available</a></code> returns <code><a href="https://docs.python.org/3/library/constants.html#True">True</a></code> if the underlying file is open and its descriptor claimed.</p><p><code><a href="twisted.internet.tcp._IFileDescriptorReservation.html">_IFileDescriptorReservation</a></code> instances are context managers; entering them releases the underlying file descriptor, while exiting them attempts to reacquire it.  The block can take advantage of the free slot in the process' file descriptor table accept and close a client connection.</p><p>Because another thread might open a file descriptor between the time the context manager is entered and the time <code>accept</code> is called, opening the reserve descriptor is best-effort only.</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1257">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__enter__">__enter__</a></code></td>
    <td><span>Release the underlying file descriptor so that code within the context manager can open a new file.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__exit__">__exit__</a></code></td>
    <td><span>Attempt to re-open the reserved file descriptor.  See <code><a href="#reserve">reserve</a></code> for caveats.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#available">available</a></code></td>
    <td><span>Is the reservation available?</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#reserve">reserve</a></code></td>
    <td><span>Attempt to open the reserved file descriptor; if this fails because of <code>EMFILE</code>, internal state is reset so that another reservation attempt can be made.</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="twisted.internet.tcp._IFileDescriptorReservation.__enter__">
    
  </a>
  <a name="__enter__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__enter__</span>():
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/tcp.py#L920">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Release the underlying file descriptor so that code within the context manager can open a new file.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.tcp._IFileDescriptorReservation.__exit__">
    
  </a>
  <a name="__exit__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__exit__</span>(excType, excValue, traceback):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/tcp.py#L926">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Attempt to re-open the reserved file descriptor.  See <code><a href="#reserve">reserve</a></code> for caveats.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">excType</span></td><td class="fieldArgDesc">See <code><a href="https://docs.python.org/3/reference/datamodel.html#object.__exit__">object.__exit__</a></code></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">excValue</span></td><td class="fieldArgDesc">See <code><a href="https://docs.python.org/3/reference/datamodel.html#object.__exit__">object.__exit__</a></code></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">traceback</span></td><td class="fieldArgDesc">See <code><a href="https://docs.python.org/3/reference/datamodel.html#object.__exit__">object.__exit__</a></code></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.tcp._IFileDescriptorReservation.available">
    
  </a>
  <a name="available">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">available</span>():
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/tcp.py#L901">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Is the reservation available?</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2"><code><a href="https://docs.python.org/3/library/constants.html#True">True</a></code> if the reserved file descriptor is open and can thus be closed to allow a new file to be opened in its place; <code><a href="https://docs.python.org/3/library/constants.html#False">False</a></code> if it is not open.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.tcp._IFileDescriptorReservation.reserve">
    
  </a>
  <a name="reserve">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">reserve</span>():
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/tcp.py#L910">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Attempt to open the reserved file descriptor; if this fails because of <code>EMFILE</code>, internal state is reset so that another reservation attempt can be made.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/exceptions.html#Exception">Exception</a></code></td><td>Any exception except an <code><a href="https://docs.python.org/3/library/exceptions.html#OSError">OSError</a></code> whose errno is <code><a href="https://docs.python.org/3/library/errno.html#errno.EMFILE">EMFILE</a></code>.</td></tr></table></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/" class="projecthome">Twisted</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.2.2 at 2021-06-29 01:24:32.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>