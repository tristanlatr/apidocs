<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.internet.tcp._IFileDescriptorReservation</title>
    <meta name="generator" content="pydoctor 22.2.2.dev0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div style="display: none" id="current-docs-container" class="container">
  <div class="col-sm-12">
    <a id="current-docs-link">
      Go to the latest version of this document.
    </a>
  </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          <a href="https://twistedmatrix.com/" class="projecthome">Twisted</a> <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        <div>
          <span class="label label-default" id="search-docstrings-button">
            <a title="Search in docstrings" onclick="toggleSearchInDocstrings()">search in docstrings</a></span>
        </div>

        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>
        
        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>
  </div>

  <script src="ajax.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="interface private"><code><code><a href="index.html" class="internal-link">twisted</a></code><wbr></wbr>.<code><a href="twisted.internet.html" class="internal-link" title="twisted.internet">internet</a></code><wbr></wbr>.<code><a href="twisted.internet.tcp.html" class="internal-link" title="twisted.internet.tcp">tcp</a></code><wbr></wbr>.<code><a href="twisted.internet.tcp._IFileDescriptorReservation.html" class="internal-link" title="twisted.internet.tcp._IFileDescriptorReservation">_IFileDescriptorReservation</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        interface documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">_IFileDescriptorReservation</span>(<a href="https://zopeinterface.readthedocs.io/en/latest/api/specifications.html#zope.interface.Interface" class="intersphinx-link" title="zope.interface.Interface">Interface</a>): <a href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/tcp.py#L876" class="sourceLink">(source)</a></code></p><p>Known implementations: <code><a href="twisted.internet.tcp._FileDescriptorReservation.html" class="internal-link">twisted.internet.tcp._FileDescriptorReservation</a></code>, <code><a href="twisted.internet.tcp._NullFileDescriptorReservation.html" class="internal-link">twisted.internet.tcp._NullFileDescriptorReservation</a></code></p>
        <p><a href="classIndex.html#twisted.internet.tcp._IFileDescriptorReservation">View In Hierarchy</a></p>
      </div>

      

      <div class="moduleDocstring">
        <div><p>An open file that represents an emergency reservation in the process' file descriptor table.  If <code><a href="twisted.internet.tcp.Port.html" class="internal-link" title="twisted.internet.tcp.Port">Port</a></code> encounters <tt class="rst-docutils literal">EMFILE</tt> on <tt class="rst-docutils literal">accept(2)</tt>, it can close this file descriptor, retry the <tt class="rst-docutils literal">accept</tt> so that the incoming connection occupies this file descriptor's space, and then close that connection and reopen this one.</p>
<p>Calling <code><a href="#reserve" class="internal-link" title="twisted.internet.tcp._IFileDescriptorReservation.reserve">_IFileDescriptorReservation.reserve</a></code> attempts to open the reserve file descriptor if it is not already open. <code><a href="#available" class="internal-link" title="twisted.internet.tcp._IFileDescriptorReservation.available">_IFileDescriptorReservation.available</a></code> returns <code><a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a></code> if the underlying file is open and its descriptor claimed.</p>
<p><code><a href="twisted.internet.tcp._IFileDescriptorReservation.html" class="internal-link" title="twisted.internet.tcp._IFileDescriptorReservation">_IFileDescriptorReservation</a></code> instances are context managers; entering them releases the underlying file descriptor, while exiting them attempts to reacquire it.  The block can take advantage of the free slot in the process' file descriptor table accept and close a client connection.</p>
<p>Because another thread might open a file descriptor between the time the context manager is entered and the time <tt class="rst-docutils literal">accept</tt> is called, opening the reserve descriptor is best-effort only.</p>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1259">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__enter__" class="internal-link" title="twisted.internet.tcp._IFileDescriptorReservation.__enter__">__enter__</a></code></td>
    <td>Release the underlying file descriptor so that code within the context manager can open a new file.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__exit__" class="internal-link" title="twisted.internet.tcp._IFileDescriptorReservation.__exit__">__exit__</a></code></td>
    <td>Attempt to re-open the reserved file descriptor.  See <code><a href="#reserve" class="internal-link" title="twisted.internet.tcp._IFileDescriptorReservation.reserve">reserve</a></code> for caveats.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#available" class="internal-link" title="twisted.internet.tcp._IFileDescriptorReservation.available">available</a></code></td>
    <td>Is the reservation available?</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#reserve" class="internal-link" title="twisted.internet.tcp._IFileDescriptorReservation.reserve">reserve</a></code></td>
    <td>Attempt to open the reserved file descriptor; if this fails because of <tt class="rst-docutils literal">EMFILE</tt>, internal state is reset so that another reservation attempt can be made.</td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="twisted.internet.tcp._IFileDescriptorReservation.__enter__">
    
  </a>
  <a name="__enter__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__enter__</span>():
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/tcp.py#L920">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Release the underlying file descriptor so that code within the context manager can open a new file.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.tcp._IFileDescriptorReservation.__exit__">
    
  </a>
  <a name="__exit__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__exit__</span>(excType, excValue, traceback):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/tcp.py#L926">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Attempt to re-open the reserved file descriptor.  See <code><a href="#reserve" class="internal-link" title="twisted.internet.tcp._IFileDescriptorReservation.reserve">reserve</a></code> for caveats.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">exc​Type</span></td><td class="fieldArgDesc">See <code><a href="https://docs.python.org/3/reference/datamodel.html#object.__exit__" class="intersphinx-link">object.__exit__</a></code></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">exc​Value</span></td><td class="fieldArgDesc">See <code><a href="https://docs.python.org/3/reference/datamodel.html#object.__exit__" class="intersphinx-link">object.__exit__</a></code></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">traceback</span></td><td class="fieldArgDesc">See <code><a href="https://docs.python.org/3/reference/datamodel.html#object.__exit__" class="intersphinx-link">object.__exit__</a></code></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.tcp._IFileDescriptorReservation.available">
    
  </a>
  <a name="available">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">available</span>():
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/tcp.py#L901">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Is the reservation available?<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2"><code><a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a></code> if the reserved file descriptor is open and can thus be closed to allow a new file to be opened in its place; <code><a href="https://docs.python.org/3/library/constants.html#False" class="intersphinx-link">False</a></code> if it is not open.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.tcp._IFileDescriptorReservation.reserve">
    
  </a>
  <a name="reserve">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">reserve</span>():
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/tcp.py#L910">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Attempt to open the reserved file descriptor; if this fails because of <tt class="rst-docutils literal">EMFILE</tt>, internal state is reset so that another reservation attempt can be made.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/exceptions.html#Exception" class="intersphinx-link">Exception</a></code></td><td>Any exception except an <code><a href="https://docs.python.org/3/library/exceptions.html#OSError" class="intersphinx-link">OSError</a></code> whose errno is <code>EMFILE</code>.</td></tr></table></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  

  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="https://twistedmatrix.com/" class="projecthome">Twisted</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.2.dev0 at 2022-03-04 17:21:58.
  </div>

  <!-- Google analytics, obviously. -->
  <script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
  <script type="text/javascript">
    _uacct = "UA-99018-6";
    urchinTracker();
  </script>

  <!-- If the documentation isn't current, insert a current link. -->
  <script type="text/javascript">
    if (window.location.pathname.indexOf('/current/') == -1) {
      <!-- Give the user a link to this page, but in the current version of the docs. -->
      var link = document.getElementById('current-docs-link');
      link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
      <!-- And make it visible -->
      var container = document.getElementById('current-docs-container');
      container.style.display = "";
      delete link;
      delete container;
    }
  </script>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>