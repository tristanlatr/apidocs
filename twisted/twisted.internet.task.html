<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.internet.task</title>
    <meta name="generator" content="pydoctor 21.2.2"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          <a href="https://twistedmatrix.com/" class="projecthome">Twisted</a> <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <form action="search-results.html" id="search-box-container">
          <div class="input-group">
            <input id="search-box" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" />
            <span class="input-group-btn">
              <button class="btn btn-default" type="submit" title="Search"><img src="fonts/search.svg" alt="Search!" /></button>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help!" /></a>
            </span>
          </div>
        </form>

        <div class="rst-admonition hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”:
                  <br /> <code>'+foo bar -baz'</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”:
                  <br /> <code>'foo*'</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all documents 
                  that contains "foo" in their full dotted name and with “bar” in any field:
                  <br /> <code>'+fullName:*foo* +bar'</code>

                  <p>
                    Possible fields: 'name', 'docstring', 'fullName'.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”:
                  <br /> <code>'foo~1'</code>
                </li>
            </ul>

          </p>
        </div>

      </div>


    </div>
  </div>

  <script>
 
    function toggleSearchHelpText() {
        document.body.classList.toggle("search-help-hidden");
    }
    // Init search and help text
    document.getElementById('search-box-container').style.display = 'block';
    document.getElementById('search-help-box').style.display = 'block';
    document.body.classList.add("search-help-hidden");

  </script>

</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="twisted.html">twisted</a></code><wbr></wbr>.<code><a href="twisted.internet.html">internet</a></code><wbr></wbr>.<code><a href="twisted.internet.task.html">task</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py" class="sourceLink">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Scheduling utility methods and classes.</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1205">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.Clock.html">Clock</a></code></td>
    <td><span>Provide a deterministic, easily-controlled implementation of <code><a href="twisted.internet.interfaces.IReactorTime.html#callLater">IReactorTime.callLater</a></code>.  This is commonly useful for writing deterministic unit tests for code which schedules events using this API.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.CooperativeTask.html">CooperativeTask</a></code></td>
    <td><span>A <code><a href="twisted.internet.task.CooperativeTask.html">CooperativeTask</a></code> is a task object inside a <code><a href="twisted.internet.task.Cooperator.html">Cooperator</a></code>, which can be paused, resumed, and stopped.  It can also have its completion (or termination) monitored.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.Cooperator.html">Cooperator</a></code></td>
    <td><span>Cooperative task scheduler.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.LoopingCall.html">LoopingCall</a></code></td>
    <td><span>Call a function repeatedly.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.NotPaused.html">NotPaused</a></code></td>
    <td><span>This exception is raised when a task is resumed which was not previously paused.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.SchedulerError.html">SchedulerError</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.SchedulerStopped.html">SchedulerStopped</a></code></td>
    <td><span>The operation could not complete because the scheduler was stopped in progress or was already stopped.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.TaskDone.html">TaskDone</a></code></td>
    <td><span>The operation could not complete because the task was already completed.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.TaskFailed.html">TaskFailed</a></code></td>
    <td><span>The operation could not complete because the task died with an unhandled error.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.TaskFinished.html">TaskFinished</a></code></td>
    <td><span>The operation could not complete because the task was already completed, stopped, encountered an error or otherwise permanently stopped running.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.TaskStopped.html">TaskStopped</a></code></td>
    <td><span>The operation could not complete because the task was stopped.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#coiterate">coiterate</a></code></td>
    <td><span>Cooperatively iterate over the given iterator, dividing runtime between it and all other iterators which have been passed to this function and not yet exhausted.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#cooperate">cooperate</a></code></td>
    <td><span>Start running the given iterator as a long-running cooperative task, by calling next() on it as a periodic timed event.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#deferLater">deferLater</a></code></td>
    <td><span>Call the given function after a certain period of time has passed.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#react">react</a></code></td>
    <td><span>Call <code>main</code> and run the reactor until the <code><a href="twisted.internet.defer.Deferred.html">Deferred</a></code> it returns fires or the coroutine it returns completes.</span></td>
  </tr><tr class="class private">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task._Timer.html">_Timer</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_defaultScheduler">_defaultScheduler</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_EPSILON">_EPSILON</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_theCooperator">_theCooperator</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="twisted.internet.task.coiterate">
    
  </a>
  <a name="coiterate">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">coiterate</span>(iterator):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L699">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Cooperatively iterate over the given iterator, dividing runtime between it and all other iterators which have been passed to this function and not yet exhausted.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">iterator</span></td><td class="fieldArgDesc">the iterator to invoke.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">a Deferred that will fire when the iterator finishes.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.internet.task.cooperate">
    
  </a>
  <a name="cooperate">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">cooperate</span>(iterator):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L712">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Start running the given iterator as a long-running cooperative task, by calling next() on it as a periodic timed event.</p><p>This is very useful if you have computationally expensive tasks that you want to run without blocking the reactor.  Just break each task up so that it yields frequently, pass it in here and the global <code><a href="twisted.internet.task.Cooperator.html">Cooperator</a></code> will make sure work is distributed between them without blocking longer than a single iteration of a single task.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">iterator</span></td><td class="fieldArgDesc">the iterator to invoke.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">a <code><a href="twisted.internet.task.CooperativeTask.html">CooperativeTask</a></code> object representing this task.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.internet.task.deferLater">
    
  </a>
  <a name="deferLater">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">deferLater</span>(clock, delay, callable=None, *args, **kw):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L810">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Call the given function after a certain period of time has passed.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">clock:</span><code><a href="twisted.internet.interfaces.IReactorTime.html">IReactorTime</a></code> provider</td><td class="fieldArgDesc">The object which will be used to schedule the delayed call.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">delay:</span><code>float</code> or <code>int</code></td><td class="fieldArgDesc">The number of seconds to wait before calling the function.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">callable</span></td><td class="fieldArgDesc">The object to call after the delay.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">args</span></td><td class="fieldArgDesc">The positional arguments to pass to <code>callable</code>.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">kw</span></td><td class="fieldArgDesc">The keyword arguments to pass to <code>callable</code>.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="twisted.internet.defer.Deferred.html">defer.Deferred</a></code></td><td class="fieldArgDesc">A deferred that fires with the result of the callable when the specified time has elapsed.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.internet.task.react">
    
  </a>
  <a name="react">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">react</span>(main, argv=(), _reactor=None):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L843">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Call <code>main</code> and run the reactor until the <code><a href="twisted.internet.defer.Deferred.html">Deferred</a></code> it returns fires or the coroutine it returns completes.</p><p>This is intended as the way to start up an application with a well-defined completion condition.  Use it to write clients or one-off asynchronous operations.  Prefer this to calling <code>reactor.run</code> directly, as this function will also:</p><ul><li>Take care to call <code>reactor.stop</code> once and only once, and at the right time.</li><li>Log any failures from the <code>Deferred</code> returned by <code>main</code>.</li><li>Exit the application when done, with exit code 0 in case of success and 1 in case of failure. If <code>main</code> fails with a <code>SystemExit</code> error, the code returned is used.</li></ul><p>The following demonstrates the signature of a <code>main</code> function which can be used with <code><a href="#react">react</a></code>:</p><pre class="literalblock">
      async def main(reactor, username, password):
          return "ok"

      task.react(main, ("alice", "secret"))
</pre><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">main</span></td><td class="fieldArgDesc">A callable which returns a <code><a href="twisted.internet.defer.Deferred.html">Deferred</a></code> or coroutine. It should take the reactor as its first parameter, followed by the elements of <code>argv</code>.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">argv</span></td><td class="fieldArgDesc">A list of arguments to pass to <code>main</code>. If omitted the callable will be invoked with no additional arguments.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_reactor</span></td><td class="fieldArgDesc">An implementation detail to allow easier unit testing.  Do not supply this parameter.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Present Since</td></tr><tr><td colspan="2">12.3</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="twisted.internet.task._defaultScheduler">
    
  </a>
  <a name="_defaultScheduler">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_defaultScheduler</span>(x):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L352">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basevariable private">
  
  
  <a name="twisted.internet.task._EPSILON">
    
  </a>
  <a name="_EPSILON">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_EPSILON</span>: <code><a href="https://docs.python.org/3/library/functions.html#float">float</a></code> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L349">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basevariable private">
  
  
  <a name="twisted.internet.task._theCooperator">
    
  </a>
  <a name="_theCooperator">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_theCooperator</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L696">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="https://twistedmatrix.com/" class="projecthome">Twisted</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.2.2 at 2022-01-12 04:22:24.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>