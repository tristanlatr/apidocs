<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.internet.task</title>
    <meta name="generator" content="pydoctor 22.2.2.dev0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div style="display: none" id="current-docs-container" class="container">
  <div class="col-sm-12">
    <a id="current-docs-link">
      Go to the latest version of this document.
    </a>
  </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          <a href="https://twistedmatrix.com/" class="projecthome">Twisted</a> <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        <div>
          <span class="label label-default" id="search-docstrings-button">
            <a title="Search in docstrings" onclick="toggleSearchInDocstrings()">search in docstrings</a></span>
        </div>

        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>
        
        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>
  </div>

  <script src="ajax.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="index.html" class="internal-link">twisted</a></code><wbr></wbr>.<code><a href="twisted.internet.html" class="internal-link" title="twisted.internet">internet</a></code><wbr></wbr>.<code><a href="twisted.internet.task.html" class="internal-link" title="twisted.internet.task">task</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py" class="sourceLink">(source)</a>
        <p></p>
      </div>

      

      <div class="moduleDocstring">
        <div>Scheduling utility methods and classes.</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1213">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.Clock.html" class="internal-link" title="twisted.internet.task.Clock">​Clock</a></code></td>
    <td>Provide a deterministic, easily-controlled implementation of <code><a href="twisted.internet.interfaces.IReactorTime.html#callLater" class="internal-link" title="twisted.internet.interfaces.IReactorTime.callLater">IReactorTime.callLater</a></code>.  This is commonly useful for writing deterministic unit tests for code which schedules events using this API.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.CooperativeTask.html" class="internal-link" title="twisted.internet.task.CooperativeTask">​Cooperative​Task</a></code></td>
    <td>A <code><a href="twisted.internet.task.CooperativeTask.html" class="internal-link" title="twisted.internet.task.CooperativeTask">CooperativeTask</a></code> is a task object inside a <code><a href="twisted.internet.task.Cooperator.html" class="internal-link" title="twisted.internet.task.Cooperator">Cooperator</a></code>, which can be paused, resumed, and stopped.  It can also have its completion (or termination) monitored.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.Cooperator.html" class="internal-link" title="twisted.internet.task.Cooperator">​Cooperator</a></code></td>
    <td>Cooperative task scheduler.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.LoopingCall.html" class="internal-link" title="twisted.internet.task.LoopingCall">​Looping​Call</a></code></td>
    <td>Call a function repeatedly.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.NotPaused.html" class="internal-link" title="twisted.internet.task.NotPaused">​Not​Paused</a></code></td>
    <td>This exception is raised when a task is resumed which was not previously paused.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.SchedulerError.html" class="internal-link" title="twisted.internet.task.SchedulerError">​Scheduler​Error</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.SchedulerStopped.html" class="internal-link" title="twisted.internet.task.SchedulerStopped">​Scheduler​Stopped</a></code></td>
    <td>The operation could not complete because the scheduler was stopped in progress or was already stopped.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.TaskDone.html" class="internal-link" title="twisted.internet.task.TaskDone">​Task​Done</a></code></td>
    <td>The operation could not complete because the task was already completed.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.TaskFailed.html" class="internal-link" title="twisted.internet.task.TaskFailed">​Task​Failed</a></code></td>
    <td>The operation could not complete because the task died with an unhandled error.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.TaskFinished.html" class="internal-link" title="twisted.internet.task.TaskFinished">​Task​Finished</a></code></td>
    <td>The operation could not complete because the task was already completed, stopped, encountered an error or otherwise permanently stopped running.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task.TaskStopped.html" class="internal-link" title="twisted.internet.task.TaskStopped">​Task​Stopped</a></code></td>
    <td>The operation could not complete because the task was stopped.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#coiterate" class="internal-link" title="twisted.internet.task.coiterate">coiterate</a></code></td>
    <td>Cooperatively iterate over the given iterator, dividing runtime between it and all other iterators which have been passed to this function and not yet exhausted.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#cooperate" class="internal-link" title="twisted.internet.task.cooperate">cooperate</a></code></td>
    <td>Start running the given iterator as a long-running cooperative task, by calling next() on it as a periodic timed event.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#deferLater" class="internal-link" title="twisted.internet.task.deferLater">defer​Later</a></code></td>
    <td>Call the given function after a certain period of time has passed.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#react" class="internal-link" title="twisted.internet.task.react">react</a></code></td>
    <td>Call <tt class="rst-docutils literal">main</tt> and run the reactor until the <code><a href="twisted.internet.defer.Deferred.html" class="internal-link" title="twisted.internet.defer.Deferred">Deferred</a></code> it returns fires or the coroutine it returns completes.</td>
  </tr><tr class="class private">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.task._Timer.html" class="internal-link" title="twisted.internet.task._Timer">_​Timer</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_defaultScheduler" class="internal-link" title="twisted.internet.task._defaultScheduler">_default​Scheduler</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_EPSILON" class="internal-link" title="twisted.internet.task._EPSILON">_EPSILON</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_theCooperator" class="internal-link" title="twisted.internet.task._theCooperator">_the​Cooperator</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="twisted.internet.task.coiterate">
    
  </a>
  <a name="coiterate">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">coiterate</span>(iterator):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L699">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Cooperatively iterate over the given iterator, dividing runtime between it and all other iterators which have been passed to this function and not yet exhausted.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">iterator</span></td><td class="fieldArgDesc">the iterator to invoke.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">a Deferred that will fire when the iterator finishes.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.internet.task.cooperate">
    
  </a>
  <a name="cooperate">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">cooperate</span>(iterator):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L712">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Start running the given iterator as a long-running cooperative task, by calling next() on it as a periodic timed event.</p>
<p>This is very useful if you have computationally expensive tasks that you want to run without blocking the reactor.  Just break each task up so that it yields frequently, pass it in here and the global <code><a href="twisted.internet.task.Cooperator.html" class="internal-link" title="twisted.internet.task.Cooperator">Cooperator</a></code> will make sure work is distributed between them without blocking longer than a single iteration of a single task.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">iterator</span></td><td class="fieldArgDesc">the iterator to invoke.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">a <code><a href="twisted.internet.task.CooperativeTask.html" class="internal-link" title="twisted.internet.task.CooperativeTask">CooperativeTask</a></code> object representing this task.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.internet.task.deferLater">
    
  </a>
  <a name="deferLater">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">deferLater</span>(clock, delay, callable=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, *args, **kw):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L810">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Call the given function after a certain period of time has passed.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">clock:</span><code><a href="twisted.internet.interfaces.IReactorTime.html" class="internal-link" title="twisted.internet.interfaces.IReactorTime">IReactorTime</a></code> provider</td><td class="fieldArgDesc">The object which will be used to schedule the delayed call.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">delay:</span><tt class="rst-docutils literal">float</tt> or <tt class="rst-docutils literal">int</tt></td><td class="fieldArgDesc">The number of seconds to wait before calling the function.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">callable</span></td><td class="fieldArgDesc">The object to call after the delay.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">*args</span></td><td class="fieldArgDesc">The positional arguments to pass to <tt class="rst-docutils literal">callable</tt>.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">**kw</span></td><td class="fieldArgDesc">The keyword arguments to pass to <tt class="rst-docutils literal">callable</tt>.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="twisted.internet.defer.Deferred.html" class="internal-link" title="twisted.internet.defer.Deferred">defer.Deferred</a></code></td><td class="fieldArgDesc">A deferred that fires with the result of the callable when the specified time has elapsed.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.internet.task.react">
    
  </a>
  <a name="react">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">react</span>(main, argv=(), _reactor=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L843">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Call <tt class="rst-docutils literal">main</tt> and run the reactor until the <code><a href="twisted.internet.defer.Deferred.html" class="internal-link" title="twisted.internet.defer.Deferred">Deferred</a></code> it returns fires or the coroutine it returns completes.</p>
<p>This is intended as the way to start up an application with a well-defined completion condition.  Use it to write clients or one-off asynchronous operations.  Prefer this to calling <tt class="rst-docutils literal">reactor.run</tt> directly, as this function will also:</p>
<ul class="rst-simple">
<li>Take care to call <tt class="rst-docutils literal">reactor.stop</tt> once and only once, and at the right time.</li>
<li>Log any failures from the <tt class="rst-docutils literal">Deferred</tt> returned by <tt class="rst-docutils literal">main</tt>.</li>
<li>Exit the application when done, with exit code 0 in case of success and 1 in case of failure. If <tt class="rst-docutils literal">main</tt> fails with a <tt class="rst-docutils literal">SystemExit</tt> error, the code returned is used.</li>
</ul>
<p>The following demonstrates the signature of a <tt class="rst-docutils literal">main</tt> function which can be used with <code><a href="#react" class="internal-link" title="twisted.internet.task.react">react</a></code>:</p>
<pre class="rst-literal-block">
      async def main(reactor, username, password):
          return "ok"

      task.react(main, ("alice", "secret"))
</pre>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">main</span></td><td class="fieldArgDesc">A callable which returns a <code><a href="twisted.internet.defer.Deferred.html" class="internal-link" title="twisted.internet.defer.Deferred">Deferred</a></code> or coroutine. It should take the reactor as its first parameter, followed by the elements of <tt class="rst-docutils literal">argv</tt>.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">argv</span></td><td class="fieldArgDesc">A list of arguments to pass to <tt class="rst-docutils literal">main</tt>. If omitted the callable will be invoked with no additional arguments.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_reactor</span></td><td class="fieldArgDesc">An implementation detail to allow easier unit testing.  Do not supply this parameter.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Present Since</td></tr><tr><td colspan="2">12.3</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="twisted.internet.task._defaultScheduler">
    
  </a>
  <a name="_defaultScheduler">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_defaultScheduler</span>(x):
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L352">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="twisted.internet.task._EPSILON">
    
  </a>
  <a name="_EPSILON">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_EPSILON</span>: <code><a href="https://docs.python.org/3/library/functions.html#float" class="intersphinx-link">float</a></code> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L349">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>1e-08</code></pre></td></tr></table>
  </div>
</div><div class="basevariable private">
  
  
  <a name="twisted.internet.task._theCooperator">
    
  </a>
  <a name="_theCooperator">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_theCooperator</span> =
    <a class="sourceLink" href="https://github.com/twisted/twisted/tree/twisted-21.2.0/src/twisted/internet/task.py#L696">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  

  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="https://twistedmatrix.com/" class="projecthome">Twisted</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.2.dev0 at 2022-03-04 17:21:58.
  </div>

  <!-- Google analytics, obviously. -->
  <script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
  <script type="text/javascript">
    _uacct = "UA-99018-6";
    urchinTracker();
  </script>

  <!-- If the documentation isn't current, insert a current link. -->
  <script type="text/javascript">
    if (window.location.pathname.indexOf('/current/') == -1) {
      <!-- Give the user a link to this page, but in the current version of the docs. -->
      var link = document.getElementById('current-docs-link');
      link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
      <!-- And make it visible -->
      var container = document.getElementById('current-docs-container');
      container.style.display = "";
      delete link;
      delete container;
    }
  </script>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>